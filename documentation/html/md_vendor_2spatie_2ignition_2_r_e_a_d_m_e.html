<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Proyecto1ev: Ignition: a beautiful error page for PHP apps</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="favicon.ico"/></td>
  <td id="projectalign">
   <div id="projectname">Proyecto1ev<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Proyecto 1ยบ evaluacion, Laravel</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Ignition: a beautiful error page for PHP apps</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md2104"></a> <a href="https://packagist.org/packages/spatie/ignition"><img src="https://img.shields.io/packagist/v/spatie/ignition.svg?style=flat-square" alt="Latest Version on Packagist" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/spatie/ignition/actions/workflows/run-tests.yml"><img src="https://github.com/spatie/ignition/actions/workflows/run-tests.yml/badge.svg" alt="Run tests" style="pointer-events: none;" class="inline"/></a> <a href="https://packagist.org/packages/spatie/ignition"><img src="https://img.shields.io/packagist/dt/spatie/ignition.svg?style=flat-square" alt="Total Downloads" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://flareapp.io/docs/ignition-for-laravel/introduction">Ignition</a> is a beautiful and customizable error page for PHP applications</p>
<p>Here's a minimal example on how to register ignition.</p>
<div class="fragment"><div class="line">use <a class="code hl_class" href="class_spatie_1_1_ignition_1_1_ignition.html">Spatie\Ignition\Ignition</a>;</div>
<div class="line"> </div>
<div class="line">include <span class="stringliteral">&#39;vendor/autoload.php&#39;</span>;</div>
<div class="line"> </div>
<div class="line">Ignition::make()-&gt;<a class="code hl_function" href="class_spatie_1_1_ignition_1_1_ignition.html#acc294a6cc8e69743746820e3d15e3f78">register</a>();</div>
<div class="ttc" id="aclass_spatie_1_1_ignition_1_1_ignition_html"><div class="ttname"><a href="class_spatie_1_1_ignition_1_1_ignition.html">Spatie\Ignition\Ignition</a></div><div class="ttdef"><b>Definition</b> <a href="ignition_2src_2_ignition_8php_source.html#l00026">Ignition.php:27</a></div></div>
<div class="ttc" id="aclass_spatie_1_1_ignition_1_1_ignition_html_acc294a6cc8e69743746820e3d15e3f78"><div class="ttname"><a href="class_spatie_1_1_ignition_1_1_ignition.html#acc294a6cc8e69743746820e3d15e3f78">Spatie\Ignition\Ignition\register</a></div><div class="ttdeci">register()</div><div class="ttdef"><b>Definition</b> <a href="ignition_2src_2_ignition_8php_source.html#l00240">Ignition.php:240</a></div></div>
</div><!-- fragment --><p>Let's now throw an exception during a web request.</p>
<div class="fragment"><div class="line"><span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&#39;Bye world&#39;</span>);</div>
</div><!-- fragment --><p>This is what you'll see in the browser.</p>
<p><img src="https://spatie.github.io/ignition/ignition.png" alt="Screenshot of ignition" class="inline"/></p>
<p>There's also a beautiful dark mode.</p>
<p><img src="https://spatie.github.io/ignition/ignition-dark.png" alt="Screenshot of ignition in dark mode" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md2105"></a>
Are you a visual learner?</h1>
<p>In <a href="https://youtu.be/LEY0N0Bteew?t=739">this video on YouTube</a>, you'll see a demo of all of the features.</p>
<p>Do know more about the design decisions we made, read <a href="https://freek.dev/2168-ignition-the-most-beautiful-error-page-for-laravel-and-php-got-a-major-redesign">this blog post</a>.</p>
<h1><a class="anchor" id="autotoc_md2106"></a>
Support us</h1>
<p><a href="https://spatie.be/github-ad-click/ignition">&lt;img src="https://github-ads.s3.eu-central-1.amazonaws.com/ignition.jpg?t=1" width="419px" /&gt;</a></p>
<p>We invest a lot of resources into creating <a href="https://spatie.be/open-source">best in class open source packages</a>. You can support us by <a href="https://spatie.be/open-source/support-us">buying one of our paid products</a>.</p>
<p>We highly appreciate you sending us a postcard from your hometown, mentioning which of our package(s) you are using. You'll find our address on <a href="https://spatie.be/about-us">our contact page</a>. We publish all received postcards on <a href="https://spatie.be/open-source/postcards">our virtual postcard wall</a>.</p>
<h1><a class="anchor" id="autotoc_md2107"></a>
Installation</h1>
<p>For Laravel apps, head over to <a href="https://github.com/spatie/laravel-ignition">laravel-ignition</a>.</p>
<p>For Symfony apps, go to <a href="https://github.com/spatie/symfony-ignition-bundle">symfony-ignition-bundle</a>.</p>
<p>For Drupal 10+ websites, use the <a href="https://www.drupal.org/project/ignition">Ignition module</a>.</p>
<p>For all other PHP projects, install the package via composer:</p>
<div class="fragment"><div class="line">composer require spatie/ignition</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2108"></a>
Usage</h1>
<p>In order to display the Ignition error page when an error occurs in your project, you must add this code. Typically, this would be done in the bootstrap part of your application.</p>
<div class="fragment"><div class="line">\Spatie\Ignition\Ignition::make()-&gt;register();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2109"></a>
Setting the application path</h2>
<p>When setting the application path, Ignition will trim the given value from all paths. This will make the error page look more cleaner.</p>
<div class="fragment"><div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;applicationPath($basePathOfYourApplication)</div>
<div class="line">    -&gt;register();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2110"></a>
Using dark mode</h2>
<p>By default, Ignition uses a nice white based theme. If this is too bright for your eyes, you can use dark mode.</p>
<div class="fragment"><div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;useDarkMode()</div>
<div class="line">    -&gt;register();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2111"></a>
Avoid rendering Ignition in a production environment</h2>
<p>You don't want to render the Ignition error page in a production environment, as it potentially can display sensitive information.</p>
<p>To avoid rendering Ignition, you can call <code>shouldDisplayException</code> and pass it a falsy value.</p>
<div class="fragment"><div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;shouldDisplayException($inLocalEnvironment)</div>
<div class="line">    -&gt;register();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2112"></a>
Displaying solutions</h2>
<p>In addition to displaying an exception, Ignition can display a solution as well.</p>
<p>Out of the box, Ignition will display solutions for common errors such as bad methods calls, or using undefined properties.</p>
<h3><a class="anchor" id="autotoc_md2113"></a>
Adding a solution directly to an exception</h3>
<p>To add a solution text to your exception, let the exception implement the <code>Spatie\Ignition\Contracts\ProvidesSolution</code> interface.</p>
<p>This interface requires you to implement one method, which is going to return the <code>Solution</code> that users will see when the exception gets thrown.</p>
<div class="fragment"><div class="line">use <a class="code hl_interface" href="interface_spatie_1_1_ignition_1_1_contracts_1_1_solution.html">Spatie\Ignition\Contracts\Solution</a>;</div>
<div class="line">use <a class="code hl_interface" href="interface_spatie_1_1_ignition_1_1_contracts_1_1_provides_solution.html">Spatie\Ignition\Contracts\ProvidesSolution</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>CustomException <span class="keyword">extends</span> Exception implements ProvidesSolution</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getSolution(): Solution</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> CustomSolution();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="ainterface_spatie_1_1_ignition_1_1_contracts_1_1_provides_solution_html"><div class="ttname"><a href="interface_spatie_1_1_ignition_1_1_contracts_1_1_provides_solution.html">Spatie\Ignition\Contracts\ProvidesSolution</a></div><div class="ttdef"><b>Definition</b> <a href="_provides_solution_8php_source.html#l00008">ProvidesSolution.php:9</a></div></div>
<div class="ttc" id="ainterface_spatie_1_1_ignition_1_1_contracts_1_1_solution_html"><div class="ttname"><a href="interface_spatie_1_1_ignition_1_1_contracts_1_1_solution.html">Spatie\Ignition\Contracts\Solution</a></div><div class="ttdef"><b>Definition</b> <a href="_solution_8php_source.html#l00005">Solution.php:6</a></div></div>
</div><!-- fragment --><div class="fragment"><div class="line">use <a class="code hl_interface" href="interface_spatie_1_1_ignition_1_1_contracts_1_1_solution.html">Spatie\Ignition\Contracts\Solution</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>CustomSolution <span class="keyword">implements</span> Solution</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getSolutionTitle(): string</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&#39;The solution title goes here&#39;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getSolutionDescription(): string</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&#39;This is a longer description of the solution that you want to show.&#39;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getDocumentationLinks(): array</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> [</div>
<div class="line">            <span class="stringliteral">&#39;Your documentation&#39;</span> =&gt; <span class="stringliteral">&#39;https://your-project.com/relevant-docs-page&#39;</span>,</div>
<div class="line">        ];</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>This is how the exception would be displayed if you were to throw it.</p>
<p><img src="https://spatie.github.io/ignition/solution.png" alt="Screenshot of solution" class="inline"/></p>
<h3><a class="anchor" id="autotoc_md2114"></a>
Using solution providers</h3>
<p>Instead of adding solutions to exceptions directly, you can also create a solution provider. While exceptions that return a solution, provide the solution directly to Ignition, a solution provider allows you to figure out if an exception can be solved.</p>
<p>For example, you could create a custom "Stack Overflow solution provider", that will look up if a solution can be found for a given throwable.</p>
<p>Solution providers can be added by third party packages or within your own application.</p>
<p>A solution provider is any class that implements the \Spatie\Ignition\Contracts\HasSolutionsForThrowable interface.</p>
<p>This is how the interface looks like:</p>
<div class="fragment"><div class="line"><span class="keyword">interface </span>HasSolutionsForThrowable</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> canSolve(Throwable $throwable): bool;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getSolutions(Throwable $throwable): array;</div>
<div class="line">}</div>
</div><!-- fragment --><p>When an error occurs in your app, the class will receive the <code>Throwable</code> in the <code>canSolve</code> method. In that method you can decide if your solution provider is applicable to the <code>Throwable</code> passed. If you return <code>true</code>, <code>getSolutions</code> will get called.</p>
<p>To register a solution provider to Ignition you must call the <code>addSolutionProviders</code> method.</p>
<div class="fragment"><div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;addSolutionProviders([</div>
<div class="line">        YourSolutionProvider::class,</div>
<div class="line">        AnotherSolutionProvider::class,</div>
<div class="line">    ])</div>
<div class="line">    -&gt;register();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2115"></a>
AI powered solutions</h2>
<p>Ignition can send your exception to Open AI that will attempt to automatically suggest a solution. In many cases, the suggested solutions is quite useful, but keep in mind that the solution may not be 100% correct for your context.</p>
<p>To generate AI powered solutions, you must first install this optional dependency.</p>
<div class="fragment"><div class="line">composer require openai-php/client</div>
</div><!-- fragment --><p>To start sending your errors to OpenAI, you must instanciate the <code>OpenAiSolutionProvider</code>. The constructor expects a OpenAI API key to be passed, you should generate this key <a href="https://platform.openai.com">at OpenAI</a>.</p>
<div class="fragment"><div class="line">use \Spatie\Ignition\Solutions\OpenAi\OpenAiSolutionProvider;</div>
<div class="line"> </div>
<div class="line">$aiSolutionProvider = <span class="keyword">new</span> OpenAiSolutionProvider($openAiKey);</div>
</div><!-- fragment --><p>To use the solution provider, you should pass it to <code>addSolutionProviders</code> when registering Ignition.</p>
<div class="fragment"><div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;addSolutionProviders([</div>
<div class="line">        $aiSolutionProvider,</div>
<div class="line">        <span class="comment">// other solution providers...</span></div>
<div class="line">    ])</div>
<div class="line">    -&gt;register();</div>
</div><!-- fragment --><p>By default, the solution provider will send these bits of info to Open AI:</p>
<ul>
<li>the error message</li>
<li>the error class</li>
<li>the stack frame</li>
<li>other small bits of info of context surrounding your error</li>
</ul>
<p>It will not send the request payload or any environment variables to avoid sending sensitive data to OpenAI.</p>
<h3><a class="anchor" id="autotoc_md2116"></a>
Caching requests to AI</h3>
<p>By default, all errors will be sent to OpenAI. Optionally, you can add caching so similar errors will only get sent to OpenAI once. To cache errors, you can call <code>useCache</code> on <code>$aiSolutionProvider</code>. You should pass <a href="https://packagist.org/providers/psr/simple-cache-implementation">a simple-cache-implementation</a>. Here's the signature of the <code>useCache</code> method.</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">function</span> useCache(CacheInterface $cache, <span class="keywordtype">int</span> $cacheTtlInSeconds = 60 * 60)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2117"></a>
Hinting the application type</h3>
<p>To increase the quality of the suggested solutions, you can send along the application type (Symfony, Drupal, WordPress, ...) to the AI.</p>
<p>To send the application type call <code>applicationType</code> on the solution provider.</p>
<div class="fragment"><div class="line">$aiSolutionProvider-&gt;applicationType(<span class="stringliteral">&#39;WordPress 6.2&#39;</span>)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2118"></a>
Sending exceptions to Flare</h2>
<p>Ignition comes with the ability to send exceptions to <a href="https://flareapp.io">Flare</a>, an exception monitoring service. Flare can notify you when new exceptions are occurring in your production environment.</p>
<p>To send exceptions to Flare, simply call the <code>sendToFlareMethod</code> and pass it the API key you got when creating a project on Flare.</p>
<p>You probably want to combine this with calling <code>runningInProductionEnvironment</code>. That method will, when passed a truthy value, not display the Ignition error page, but only send the exception to Flare.</p>
<div class="fragment"><div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;runningInProductionEnvironment($boolean)</div>
<div class="line">    -&gt;sendToFlare($yourApiKey)</div>
<div class="line">    -&gt;register();</div>
</div><!-- fragment --><p>When you pass a falsy value to <code>runningInProductionEnvironment</code>, the Ignition error page will get shown, but no exceptions will be sent to Flare.</p>
<h2><a class="anchor" id="autotoc_md2119"></a>
Sending custom context to Flare</h2>
<p>When you send an error to Flare, you can add custom information that will be sent along with every exception that happens in your application. This can be very useful if you want to provide key-value related information that furthermore helps you to debug a possible exception.</p>
<div class="fragment"><div class="line">use <a class="code hl_class" href="class_spatie_1_1_flare_client_1_1_flare.html">Spatie\FlareClient\Flare</a>;</div>
<div class="line"> </div>
<div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;runningInProductionEnvironment($boolean)</div>
<div class="line">    -&gt;sendToFlare($yourApiKey)</div>
<div class="line">    -&gt;configureFlare(<span class="keyword">function</span>(Flare  $flare) {</div>
<div class="line">        $flare-&gt;context(<span class="stringliteral">&#39;Tenant&#39;</span>, <span class="stringliteral">&#39;My-Tenant-Identifier&#39;</span>);</div>
<div class="line">    })</div>
<div class="line">    -&gt;<span class="keyword">register</span>();</div>
<div class="ttc" id="aclass_spatie_1_1_flare_client_1_1_flare_html"><div class="ttname"><a href="class_spatie_1_1_flare_client_1_1_flare.html">Spatie\FlareClient\Flare</a></div><div class="ttdef"><b>Definition</b> <a href="flare-client-php_2src_2_flare_8php_source.html#l00026">Flare.php:27</a></div></div>
</div><!-- fragment --><p>Sometimes you may want to group your context items by a key that you provide to have an easier visual differentiation when you look at your custom context items.</p>
<p>The Flare client allows you to also provide your own custom context groups like this:</p>
<div class="fragment"><div class="line">use <a class="code hl_class" href="class_spatie_1_1_flare_client_1_1_flare.html">Spatie\FlareClient\Flare</a>;</div>
<div class="line"> </div>
<div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;runningInProductionEnvironment($boolean)</div>
<div class="line">    -&gt;sendToFlare($yourApiKey)</div>
<div class="line">    -&gt;configureFlare(<span class="keyword">function</span>(Flare  $flare) {</div>
<div class="line">        $flare-&gt;group(<span class="stringliteral">&#39;Custom information&#39;</span>, [</div>
<div class="line">            <span class="stringliteral">&#39;key&#39;</span> =&gt; <span class="stringliteral">&#39;value&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;another key&#39;</span> =&gt; <span class="stringliteral">&#39;another value&#39;</span>,</div>
<div class="line">        ]);</div>
<div class="line">    })</div>
<div class="line">    -&gt;<span class="keyword">register</span>();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2120"></a>
Anonymize request to Flare</h2>
<p>By default, the Ignition collects information about the IP address of your application users. If you don't want to send this information to Flare, call <code>anonymizeIp()</code>.</p>
<div class="fragment"><div class="line">use <a class="code hl_class" href="class_spatie_1_1_flare_client_1_1_flare.html">Spatie\FlareClient\Flare</a>;</div>
<div class="line"> </div>
<div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;runningInProductionEnvironment($boolean)</div>
<div class="line">    -&gt;sendToFlare($yourApiKey)</div>
<div class="line">    -&gt;configureFlare(<span class="keyword">function</span>(Flare  $flare) {</div>
<div class="line">        $flare-&gt;anonymizeIp();</div>
<div class="line">    })</div>
<div class="line">    -&gt;<span class="keyword">register</span>();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2121"></a>
Censoring request body fields</h2>
<p>When an exception occurs in a web request, the Flare client will pass on any request fields that are present in the body.</p>
<p>In some cases, such as a login page, these request fields may contain a password that you don't want to send to Flare.</p>
<p>To censor out values of certain fields, you can use <code>censorRequestBodyFields</code>. You should pass it the names of the fields you wish to censor.</p>
<div class="fragment"><div class="line">use <a class="code hl_class" href="class_spatie_1_1_flare_client_1_1_flare.html">Spatie\FlareClient\Flare</a>;</div>
<div class="line"> </div>
<div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;runningInProductionEnvironment($boolean)</div>
<div class="line">    -&gt;sendToFlare($yourApiKey)</div>
<div class="line">    -&gt;configureFlare(<span class="keyword">function</span>(Flare  $flare) {</div>
<div class="line">        $flare-&gt;censorRequestBodyFields([<span class="stringliteral">&#39;password&#39;</span>]);</div>
<div class="line">    })</div>
<div class="line">    -&gt;<span class="keyword">register</span>();</div>
</div><!-- fragment --><p>This will replace the value of any sent fields named "password" with the value "&lt;CENSORED&gt;".</p>
<h2><a class="anchor" id="autotoc_md2122"></a>
Using middleware to modify data sent to Flare</h2>
<p>Before Flare receives the data that was collected from your local exception, we give you the ability to call custom middleware methods. These methods retrieve the report that should be sent to Flare and allow you to add custom information to that report.</p>
<p>A valid middleware is any class that implements <code>FlareMiddleware</code>.</p>
<div class="fragment"><div class="line">use <a class="code hl_class" href="class_spatie_1_1_flare_client_1_1_report.html">Spatie\FlareClient\Report</a>;</div>
<div class="line"> </div>
<div class="line">use <a class="code hl_interface" href="interface_spatie_1_1_flare_client_1_1_flare_middleware_1_1_flare_middleware.html">Spatie\FlareClient\FlareMiddleware\FlareMiddleware</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MyMiddleware <span class="keyword">implements</span> FlareMiddleware</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> handle(Report $report, Closure $next)</div>
<div class="line">    {</div>
<div class="line">        $report-&gt;message(<span class="stringliteral">&quot;{$report-&gt;getMessage()}, now modified&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $next($report);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_spatie_1_1_flare_client_1_1_report_html"><div class="ttname"><a href="class_spatie_1_1_flare_client_1_1_report.html">Spatie\FlareClient\Report</a></div><div class="ttdef"><b>Definition</b> <a href="spatie_2flare-client-php_2src_2_report_8php_source.html#l00020">Report.php:21</a></div></div>
<div class="ttc" id="ainterface_spatie_1_1_flare_client_1_1_flare_middleware_1_1_flare_middleware_html"><div class="ttname"><a href="interface_spatie_1_1_flare_client_1_1_flare_middleware_1_1_flare_middleware.html">Spatie\FlareClient\FlareMiddleware\FlareMiddleware</a></div><div class="ttdef"><b>Definition</b> <a href="_flare_middleware_8php_source.html#l00008">FlareMiddleware.php:9</a></div></div>
</div><!-- fragment --><div class="fragment"><div class="line">use <a class="code hl_class" href="class_spatie_1_1_flare_client_1_1_flare.html">Spatie\FlareClient\Flare</a>;</div>
<div class="line"> </div>
<div class="line">\Spatie\Ignition\Ignition::make()</div>
<div class="line">    -&gt;runningInProductionEnvironment($boolean)</div>
<div class="line">    -&gt;sendToFlare($yourApiKey)</div>
<div class="line">    -&gt;configureFlare(<span class="keyword">function</span>(Flare  $flare) {</div>
<div class="line">        $flare-&gt;registerMiddleware([</div>
<div class="line">            MyMiddleware::class,</div>
<div class="line">        ])</div>
<div class="line">    })</div>
<div class="line">    -&gt;<span class="keyword">register</span>();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2123"></a>
Changelog</h2>
<p>Please see <a class="el" href="webmozart_2assert_2_c_h_a_n_g_e_l_o_g_8md.html">CHANGELOG</a> for more information about what has changed recently.</p>
<h1><a class="anchor" id="autotoc_md2124"></a>
Contributing</h1>
<p>Please see <a href="https://github.com/spatie/.github/blob/main/CONTRIBUTING.md">CONTRIBUTING</a> for details.</p>
<h1><a class="anchor" id="autotoc_md2125"></a>
Dev setup</h1>
<p>Here are the steps you'll need to perform if you want to work on the UI of Ignition.</p>
<ul>
<li>clone (or move) <code>spatie/ignition</code>, <code>spatie/ignition-ui</code>, <code>spatie/laravel-ignition</code>, <code>spatie/flare-client-php</code> and <code>spatie/ignition-test</code> into the same directory (e.g. <code>~/code/flare</code>)</li>
<li>create a new <code>package.json</code> file in <code>~/code/flare</code> directory: <div class="fragment"><div class="line">{</div>
<div class="line">    &quot;private&quot;: true,</div>
<div class="line">    &quot;workspaces&quot;: [</div>
<div class="line">        &quot;ignition-ui&quot;,</div>
<div class="line">        &quot;ignition&quot;</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>run <code>yarn install</code> in the <code>~/code/flare</code> directory</li>
<li>in the <code>~/code/flare/ignition-test</code> directory<ul>
<li>run <code>composer update</code></li>
<li>run <code>cp .env.example .env</code></li>
<li>run <code>php artisan key:generate</code></li>
</ul>
</li>
<li>run <code>yarn dev</code> in both the <code>ignition</code> and <code>ignition-ui</code> project</li>
<li><a href="http://ignition-test.test/">http://ignition-test.test/</a> should now work (= show the new UI). If you use valet, you might want to run <code>valet park</code> inside the <code>~/code/flare</code> directory.<ul>
<li><a href="http://ignition-test.test/">http://ignition-test.test/</a> has a bit of everything</li>
<li><a href="http://ignition-test.test/sql-error">http://ignition-test.test/sql-error</a> has a solution and SQL exception</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md2126"></a>
Security Vulnerabilities</h1>
<p>Please review <a href="../../security/policy">our security policy</a> on how to report security vulnerabilities.</p>
<h1><a class="anchor" id="autotoc_md2127"></a>
Credits</h1>
<ul>
<li><a href="https://spatie.be">Spatie</a></li>
<li><a href="../../contributors">All Contributors</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md2128"></a>
License</h1>
<p>The MIT License (MIT). Please see <a class="el" href="md_vendor_2spatie_2ignition_2_l_i_c_e_n_s_e.html">License File</a> for more information. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
