<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Proyecto1ev: Mockery</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="favicon.ico"/></td>
  <td id="projectalign">
   <div id="projectname">Proyecto1ev<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Proyecto 1º evaluacion, Laravel</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Mockery</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/mockery/mockery/actions"><img src="https://github.com/mockery/mockery/actions/workflows/tests.yml/badge.svg" alt="Build Status" style="pointer-events: none;" class="inline"/></a> <a href="https://www.php.net/supported-versions"><img src="https://badgen.net/packagist/php/mockery/mockery?color=8892bf" alt="Supported PHP Version" class="inline"/></a> <a href="https://codecov.io/gh/mockery/mockery"><img src="https://codecov.io/gh/mockery/mockery/branch/1.6.x/graph/badge.svg?token=oxHwVM56bT" alt="Code Coverage" style="pointer-events: none;" class="inline"/></a> <a href="https://shepherd.dev/github/mockery/mockery"><img src="https://shepherd.dev/github/mockery/mockery/coverage.svg" alt="Type Coverage" style="pointer-events: none;" class="inline"/></a> <a href="https://packagist.org/packages/mockery/mockery"><img src="https://poser.pugx.org/mockery/mockery/v/stable.svg" alt="Latest Stable Version" style="pointer-events: none;" class="inline"/></a> <a href="https://packagist.org/packages/mockery/mockery"><img src="https://poser.pugx.org/mockery/mockery/downloads.svg" alt="Total Downloads" style="pointer-events: none;" class="inline"/></a></p>
<p><a class="el" href="namespace_mockery.html">Mockery</a> is a simple yet flexible PHP mock object framework for use in unit testing with <a class="el" href="namespace_p_h_p_unit.html">PHPUnit</a>, PHPSpec or any other testing framework. Its core goal is to offer a test double framework with a succinct API capable of clearly defining all possible object operations and interactions using a human readable Domain Specific Language (DSL). Designed as a drop in alternative to <a class="el" href="namespace_p_h_p_unit.html">PHPUnit</a>'s phpunit-mock-objects library, <a class="el" href="namespace_mockery.html">Mockery</a> is easy to integrate with <a class="el" href="namespace_p_h_p_unit.html">PHPUnit</a> and can operate alongside phpunit-mock-objects without the World ending.</p>
<p><a class="el" href="namespace_mockery.html">Mockery</a> is released under a New BSD License.</p>
<h1><a class="anchor" id="autotoc_md1145"></a>
Installation</h1>
<p>To install <a class="el" href="namespace_mockery.html">Mockery</a>, run the command below and you will get the latest version</p>
<div class="fragment"><div class="line">composer require --dev mockery/mockery</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1146"></a>
Documentation</h1>
<p>In older versions, this README file was the documentation for <a class="el" href="namespace_mockery.html">Mockery</a>. Over time we have improved this, and have created an extensive documentation for you. Please use this README file as a starting point for <a class="el" href="namespace_mockery.html">Mockery</a>, but do read the documentation to learn how to use <a class="el" href="namespace_mockery.html">Mockery</a>.</p>
<p>The current version can be seen at <a href="http://docs.mockery.io">docs.mockery.io</a>.</p>
<h1><a class="anchor" id="autotoc_md1147"></a>
PHPUnit Integration</h1>
<p><a class="el" href="namespace_mockery.html">Mockery</a> ships with some helpers if you are using <a class="el" href="namespace_p_h_p_unit.html">PHPUnit</a>. You can extend the <a href="library/Mockery/Adapter/Phpunit/MockeryTestCase.php"><code>Mockery\Adapter\Phpunit\MockeryTestCase</code></a> class instead of <code><a class="el" href="namespace_p_h_p_unit.html">PHPUnit</a>\Framework\TestCase</code>, or if you are already using a custom base class for your tests, take a look at the traits available in the <a href="library/Mockery/Adapter/Phpunit"><code>Mockery\Adapter\Phpunit</code></a> namespace.</p>
<h1><a class="anchor" id="autotoc_md1148"></a>
Test Doubles</h1>
<p>Test doubles (often called mocks) simulate the behaviour of real objects. They are commonly utilised to offer test isolation, to stand in for objects which do not yet exist, or to allow for the exploratory design of class APIs without requiring actual implementation up front.</p>
<p>The benefits of a test double framework are to allow for the flexible generation and configuration of test doubles. They allow the setting of expected method calls and/or return values using a flexible API which is capable of capturing every possible real object behaviour in way that is stated as close as possible to a natural language description. Use the <code>Mockery::mock</code> method to create a test double.</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">$double = Mockery::mock();</div>
</div><!-- fragment --><p>If you need <a class="el" href="namespace_mockery.html">Mockery</a> to create a test double to satisfy a particular type hint, you can pass the type to the <code>mock</code> method.</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">class Book {}</div>
<div class="line"> </div>
<div class="line">interface BookRepository {</div>
<div class="line">    function find($id): Book;</div>
<div class="line">    function findAll(): array;</div>
<div class="line">    function add(Book $book): void;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">$double = Mockery::mock(BookRepository::class);</div>
</div><!-- fragment --><p>A detailed explanation of creating and working with test doubles is given in the documentation, <a href="http://docs.mockery.io/en/latest/reference/creating_test_doubles.html">Creating test doubles</a> section.</p>
<h1><a class="anchor" id="autotoc_md1149"></a>
Method Stubs 🎫</h1>
<p>A method stub is a mechanism for having your test double return canned responses to certain method calls. With stubs, you don't care how many times, if at all, the method is called. Stubs are used to provide indirect input to the system under test.</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">$double-&gt;allows()-&gt;find(123)-&gt;andReturns(new Book());</div>
<div class="line"> </div>
<div class="line">$book = $double-&gt;find(123);</div>
</div><!-- fragment --><p>If you have used <a class="el" href="namespace_mockery.html">Mockery</a> before, you might see something new in the example above &mdash; we created a method stub using <code>allows</code>, instead of the "old" <code>shouldReceive</code> syntax. This is a new feature of <a class="el" href="namespace_mockery.html">Mockery</a> v1, but fear not, the trusty ol' <code>shouldReceive</code> is still here.</p>
<p>For new users of <a class="el" href="namespace_mockery.html">Mockery</a>, the above example can also be written as:</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">$double-&gt;shouldReceive(&#39;find&#39;)-&gt;with(123)-&gt;andReturn(new Book());</div>
<div class="line">$book = $double-&gt;find(123);</div>
</div><!-- fragment --><p>If your stub doesn't require specific arguments, you can also use this shortcut for setting up multiple calls at once:</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">$double-&gt;allows([</div>
<div class="line">    &quot;findAll&quot; =&gt; [new Book(), new Book()],</div>
<div class="line">]);</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">$double-&gt;shouldReceive(&#39;findAll&#39;)</div>
<div class="line">    -&gt;andReturn([new Book(), new Book()]);</div>
</div><!-- fragment --><p>You can also use this shortcut, which creates a double and sets up some stubs in one call:</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">$double = Mockery::mock(BookRepository::class, [</div>
<div class="line">    &quot;findAll&quot; =&gt; [new Book(), new Book()],</div>
<div class="line">]);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1150"></a>
Method Call Expectations 📲</h1>
<p>A Method call expectation is a mechanism to allow you to verify that a particular method has been called. You can specify the parameters and you can also specify how many times you expect it to be called. Method call expectations are used to verify indirect output of the system under test.</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">$book = new Book();</div>
<div class="line"> </div>
<div class="line">$double = Mockery::mock(BookRepository::class);</div>
<div class="line">$double-&gt;expects()-&gt;add($book);</div>
</div><!-- fragment --><p>During the test, <a class="el" href="namespace_mockery.html">Mockery</a> accept calls to the <code>add</code> method as prescribed. After you have finished exercising the system under test, you need to tell <a class="el" href="namespace_mockery.html">Mockery</a> to check that the method was called as expected, using the <code>Mockery::close</code> method. One way to do that is to add it to your <code>tearDown</code> method in <a class="el" href="namespace_p_h_p_unit.html">PHPUnit</a>.</p>
<div class="fragment"><div class="line"> php</div>
<div class="line"> </div>
<div class="line">public function tearDown()</div>
<div class="line">{</div>
<div class="line">    Mockery::close();</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>expects()</code> method automatically sets up an expectation that the method call (and matching parameters) is called <b>once and once only</b>. You can choose to change this if you are expecting more calls.</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">$double-&gt;expects()-&gt;add($book)-&gt;twice();</div>
</div><!-- fragment --><p>If you have used <a class="el" href="namespace_mockery.html">Mockery</a> before, you might see something new in the example above &mdash; we created a method expectation using <code>expects</code>, instead of the "old" <code>shouldReceive</code> syntax. This is a new feature of <a class="el" href="namespace_mockery.html">Mockery</a> v1, but same as with <code>allows</code> in the previous section, it can be written in the "old" style.</p>
<p>For new users of <a class="el" href="namespace_mockery.html">Mockery</a>, the above example can also be written as:</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">$double-&gt;shouldReceive(&#39;find&#39;)</div>
<div class="line">    -&gt;with(123)</div>
<div class="line">    -&gt;once()</div>
<div class="line">    -&gt;andReturn(new Book());</div>
<div class="line">$book = $double-&gt;find(123);</div>
</div><!-- fragment --><p>A detailed explanation of declaring expectations on method calls, please read the documentation, the <a href="http://docs.mockery.io/en/latest/reference/expectations.html">Expectation declarations</a> section. After that, you can also learn about the new <code>allows</code> and <code>expects</code> methods in the <a href="http://docs.mockery.io/en/latest/reference/alternative_should_receive_syntax.html">Alternative shouldReceive syntax</a> section.</p>
<p>It is worth mentioning that one way of setting up expectations is no better or worse than the other. Under the hood, <code>allows</code> and <code>expects</code> are doing the same thing as <code>shouldReceive</code>, at times in "less words", and as such it comes to a personal preference of the programmer which way to use.</p>
<h1><a class="anchor" id="autotoc_md1151"></a>
Test Spies 🕵️</h1>
<p>By default, all test doubles created with the <code>Mockery::mock</code> method will only accept calls that they have been configured to <code>allow</code> or <code>expect</code> (or in other words, calls that they <code>shouldReceive</code>). Sometimes we don't necessarily care about all of the calls that are going to be made to an object. To facilitate this, we can tell <a class="el" href="namespace_mockery.html">Mockery</a> to ignore any calls it has not been told to expect or allow. To do so, we can tell a test double <code>shouldIgnoreMissing</code>, or we can create the double using the <code>Mocker::spy</code> shortcut.</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">// $double = Mockery::mock()-&gt;shouldIgnoreMissing();</div>
<div class="line">$double = Mockery::spy();</div>
<div class="line"> </div>
<div class="line">$double-&gt;foo(); // null</div>
<div class="line">$double-&gt;bar(); // null</div>
</div><!-- fragment --><p>Further to this, sometimes we want to have the object accept any call during the test execution and then verify the calls afterwards. For these purposes, we need our test double to act as a Spy. All mockery test doubles record the calls that are made to them for verification afterwards by default:</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">$double-&gt;baz(123);</div>
<div class="line"> </div>
<div class="line">$double-&gt;shouldHaveReceived()-&gt;baz(123); // null</div>
<div class="line">$double-&gt;shouldHaveReceived()-&gt;baz(12345); // Uncaught Exception Mockery\Exception\InvalidCountException...</div>
</div><!-- fragment --><p>Please refer to the <a href="http://docs.mockery.io/en/latest/reference/spies.html">Spies</a> section of the documentation to learn more about the spies.</p>
<h1><a class="anchor" id="autotoc_md1152"></a>
Utilities 🔌</h1>
<h2><a class="anchor" id="autotoc_md1153"></a>
Global Helpers</h2>
<p><a class="el" href="namespace_mockery.html">Mockery</a> ships with a handful of global helper methods, you just need to ask <a class="el" href="namespace_mockery.html">Mockery</a> to declare them.</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">Mockery::globalHelpers();</div>
<div class="line"> </div>
<div class="line">$mock = mock(Some::class);</div>
<div class="line">$spy = spy(Some::class);</div>
<div class="line"> </div>
<div class="line">$spy-&gt;shouldHaveReceived()</div>
<div class="line">    -&gt;foo(anyArgs());</div>
</div><!-- fragment --><p>All of the global helpers are wrapped in a <code>!function_exists</code> call to avoid conflicts. So if you already have a global function called <code>spy</code>, <a class="el" href="namespace_mockery.html">Mockery</a> will silently skip the declaring its own <code>spy</code> function.</p>
<h2><a class="anchor" id="autotoc_md1154"></a>
Testing Traits</h2>
<p>As <a class="el" href="namespace_mockery.html">Mockery</a> ships with code generation capabilities, it was trivial to add functionality allowing users to create objects on the fly that use particular traits. Any abstract methods defined by the trait will be created and can have expectations or stubs configured like normal Test Doubles.</p>
<div class="fragment"><div class="line"> php</div>
<div class="line">trait Foo {</div>
<div class="line">    function foo() {</div>
<div class="line">        return $this-&gt;doFoo();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    abstract function doFoo();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">$double = Mockery::mock(Foo::class);</div>
<div class="line">$double-&gt;allows()-&gt;doFoo()-&gt;andReturns(123);</div>
<div class="line">$double-&gt;foo(); // int(123)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1155"></a>
Versioning</h1>
<p>The <a class="el" href="namespace_mockery.html">Mockery</a> team attempts to adhere to <a href="http://semver.org">Semantic Versioning</a>, however, some of <a class="el" href="namespace_mockery.html">Mockery</a>'s internals are considered private and will be open to change at any time. Just because a class isn't final, or a method isn't marked private, does not mean it constitutes part of the API we guarantee under the versioning scheme.</p>
<h2><a class="anchor" id="autotoc_md1156"></a>
Alternative Runtimes</h2>
<p><a class="el" href="namespace_mockery.html">Mockery</a> 1.3 was the last version to support HHVM 3 and PHP 5. There is no support for HHVM 4+.</p>
<h1><a class="anchor" id="autotoc_md1157"></a>
A new home for Mockery</h1>
<p>⚠️️ Update your remotes! <a class="el" href="namespace_mockery.html">Mockery</a> has transferred to a new location. While it was once at <code>padraic/mockery</code>, it is now at <code>mockery/mockery</code>. While your existing repositories will redirect transparently for any operations, take some time to transition to the new URL. </p><div class="fragment"><div class="line">$ git remote set-url upstream https://github.com/mockery/mockery.git</div>
</div><!-- fragment --><p> Replace <code>upstream</code> with the name of the remote you use locally; <code>upstream</code> is commonly used but you may be using something else. Run <code>git remote -v</code> to see what you're actually using. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
