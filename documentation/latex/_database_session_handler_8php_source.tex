\doxysection{Database\+Session\+Handler.\+php}
\hypertarget{_database_session_handler_8php_source}{}\label{_database_session_handler_8php_source}\index{vendor/laravel/framework/src/Illuminate/Session/DatabaseSessionHandler.php@{vendor/laravel/framework/src/Illuminate/Session/DatabaseSessionHandler.php}}
\mbox{\hyperlink{_database_session_handler_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00003}00003\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_illuminate_1_1_session}{Illuminate\(\backslash\)Session}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00005}00005\ use\ \mbox{\hyperlink{interface_illuminate_1_1_contracts_1_1_auth_1_1_guard}{Illuminate\(\backslash\)Contracts\(\backslash\)Auth\(\backslash\)Guard}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00006}00006\ use\ \mbox{\hyperlink{interface_illuminate_1_1_contracts_1_1_container_1_1_container}{Illuminate\(\backslash\)Contracts\(\backslash\)Container\(\backslash\)Container}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00007}00007\ use\ \mbox{\hyperlink{interface_illuminate_1_1_database_1_1_connection_interface}{Illuminate\(\backslash\)Database\(\backslash\)ConnectionInterface}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00008}00008\ use\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_query_exception}{Illuminate\(\backslash\)Database\(\backslash\)QueryException}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00009}00009\ use\ \mbox{\hyperlink{class_illuminate_1_1_support_1_1_arr}{Illuminate\(\backslash\)Support\(\backslash\)Arr}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00010}00010\ use\ \mbox{\hyperlink{class_illuminate_1_1_support_1_1_carbon}{Illuminate\(\backslash\)Support\(\backslash\)Carbon}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00011}00011\ use\ Illuminate\(\backslash\)Support\(\backslash\)InteractsWithTime;}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00012}00012\ use\ SessionHandlerInterface;}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00014}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler}{00014}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler}{DatabaseSessionHandler}}\ \textcolor{keyword}{implements}\ \mbox{\hyperlink{interface_illuminate_1_1_session_1_1_existence_aware_interface}{ExistenceAwareInterface}},\ SessionHandlerInterface}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00015}00015\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00016}00016\ \ \ \ \ use\ InteractsWithTime;}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00023}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a0d9c79b9b86b3f5891c6d3892f12c6a0}{00023}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a0d9c79b9b86b3f5891c6d3892f12c6a0}{\$connection}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00030}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ae8876a14058f368335baccf35af4a22b}{00030}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ae8876a14058f368335baccf35af4a22b}{\$table}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00037}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a1af3d05563ae6bd81f5914f55396e172}{00037}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a1af3d05563ae6bd81f5914f55396e172}{\$minutes}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00044}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ab97dd40df90f4ce6f0fce9091e7c7872}{00044}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ab97dd40df90f4ce6f0fce9091e7c7872}{\$container}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00051}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a9af419fd2ea17d70b30ccfca4e6c1496}{00051}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a9af419fd2ea17d70b30ccfca4e6c1496}{\$exists}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00062}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ae3162a7526c715efaef2f619a0a6e756}{00062}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ae3162a7526c715efaef2f619a0a6e756}{\_\_construct}}(\mbox{\hyperlink{interface_illuminate_1_1_database_1_1_connection_interface}{ConnectionInterface}}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a0d9c79b9b86b3f5891c6d3892f12c6a0}{\$connection}},\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ae8876a14058f368335baccf35af4a22b}{\$table}},\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a1af3d05563ae6bd81f5914f55396e172}{\$minutes}},\ \mbox{\hyperlink{interface_illuminate_1_1_contracts_1_1_container_1_1_container}{Container}}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ab97dd40df90f4ce6f0fce9091e7c7872}{\$container}}\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00063}00063\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00064}00064\ \ \ \ \ \ \ \ \ \$this-\/>table\ =\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ae8876a14058f368335baccf35af4a22b}{\$table}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00065}00065\ \ \ \ \ \ \ \ \ \$this-\/>minutes\ =\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a1af3d05563ae6bd81f5914f55396e172}{\$minutes}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00066}00066\ \ \ \ \ \ \ \ \ \$this-\/>container\ =\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ab97dd40df90f4ce6f0fce9091e7c7872}{\$container}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00067}00067\ \ \ \ \ \ \ \ \ \$this-\/>connection\ =\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a0d9c79b9b86b3f5891c6d3892f12c6a0}{\$connection}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00068}00068\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00075}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ac70d1623e67e5b6d1859856dcef15d82}{00075}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ac70d1623e67e5b6d1859856dcef15d82}{open}}(\$savePath,\ \$sessionName):\ bool}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00076}00076\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00077}00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00078}00078\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00085}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_aa69c8bf1f1dcf4e72552efff1fe3e87e}{00085}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_aa69c8bf1f1dcf4e72552efff1fe3e87e}{close}}():\ bool}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00086}00086\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00087}00087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00088}00088\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00095}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a379d9c87c852c5901ff1976be29a5048}{00095}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a379d9c87c852c5901ff1976be29a5048}{read}}(\$sessionId):\ string|false}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00096}00096\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00097}00097\ \ \ \ \ \ \ \ \ \$session\ =\ (object)\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a55f162785567258fe5138af282e588c2}{getQuery}}()-\/>find(\$sessionId);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00099}00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a7fc20c8b9fb8c0dd5f63cd202bccd71f}{expired}}(\$session))\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>exists\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{''};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00103}00103\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$session-\/>payload))\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>exists\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ base64\_decode(\$session-\/>payload);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00109}00109\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00111}00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{''};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00112}00112\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00113}00113\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00120}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a7fc20c8b9fb8c0dd5f63cd202bccd71f}{00120}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a7fc20c8b9fb8c0dd5f63cd202bccd71f}{expired}}(\$session)}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00121}00121\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00122}00122\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isset(\$session-\/>last\_activity)\ \&\&}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \$session-\/>last\_activity\ <\ Carbon::now()-\/>subMinutes(\$this-\/>minutes)-\/>getTimestamp();}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00124}00124\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00125}00125\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00131}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ad7b615bb92609350d2d9d0c07f6f58ed}{00131}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ad7b615bb92609350d2d9d0c07f6f58ed}{write}}(\$sessionId,\ \mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}}):\ bool}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00132}00132\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00133}00133\ \ \ \ \ \ \ \ \ \$payload\ =\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_adebcc11a98ada4648d1243063e072373}{getDefaultPayload}}(\mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}});}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00135}00135\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\ \$this-\/>exists)\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00136}00136\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a379d9c87c852c5901ff1976be29a5048}{read}}(\$sessionId);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00137}00137\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00139}00139\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>exists)\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00140}00140\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_adb6e5e53c1cd00a6941e3ff96e021a49}{performUpdate}}(\$sessionId,\ \$payload);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00141}00141\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00142}00142\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a641299fcf63349364c8eb9813c4c25f6}{performInsert}}(\$sessionId,\ \$payload);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00143}00143\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00144}00144\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00145}00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>exists\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00146}00146\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00147}00147\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00155}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a641299fcf63349364c8eb9813c4c25f6}{00155}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a641299fcf63349364c8eb9813c4c25f6}{performInsert}}(\$sessionId,\ \$payload)}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00156}00156\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00157}00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a55f162785567258fe5138af282e588c2}{getQuery}}()-\/>insert(Arr::set(\$payload,\ \textcolor{stringliteral}{'id'},\ \$sessionId));}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00159}00159\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\mbox{\hyperlink{class_illuminate_1_1_database_1_1_query_exception}{QueryException}})\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_adb6e5e53c1cd00a6941e3ff96e021a49}{performUpdate}}(\$sessionId,\ \$payload);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00161}00161\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00162}00162\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00171}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_adb6e5e53c1cd00a6941e3ff96e021a49}{00171}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_adb6e5e53c1cd00a6941e3ff96e021a49}{performUpdate}}(\$sessionId,\ \$payload)}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00172}00172\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00173}00173\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a55f162785567258fe5138af282e588c2}{getQuery}}()-\/>where(\textcolor{stringliteral}{'id'},\ \$sessionId)-\/>update(\$payload);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00174}00174\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00175}00175\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00182}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_adebcc11a98ada4648d1243063e072373}{00182}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_adebcc11a98ada4648d1243063e072373}{getDefaultPayload}}(\mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}})}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00183}00183\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00184}00184\ \ \ \ \ \ \ \ \ \$payload\ =\ [}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'payload'}\ =>\ base64\_encode(\mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}}),}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'last\_activity'}\ =>\ \$this-\/>currentTime(),}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00187}00187\ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00188}00188\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00189}00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\ \$this-\/>container)\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$payload;}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00191}00191\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00192}00192\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00193}00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tap(\$payload,\ \textcolor{keyword}{function}\ (\&\$payload)\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a1a3a4bf104836274a006883b0a9446cf}{addUserInformation}}(\$payload)}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ -\/>addRequestInformation(\$payload);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00196}00196\ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00197}00197\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00198}00198\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00205}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a1a3a4bf104836274a006883b0a9446cf}{00205}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a1a3a4bf104836274a006883b0a9446cf}{addUserInformation}}(\&\$payload)}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00206}00206\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00207}00207\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>container-\/>bound(Guard::class))\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00208}00208\ \ \ \ \ \ \ \ \ \ \ \ \ \$payload[\textcolor{stringliteral}{'user\_id'}]\ =\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ab3611160d9a34bb9dadc778f2885eeb1}{userId}}();}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00209}00209\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00211}00211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00212}00212\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00213}00213\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00219}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ab3611160d9a34bb9dadc778f2885eeb1}{00219}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ab3611160d9a34bb9dadc778f2885eeb1}{userId}}()}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00220}00220\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00221}00221\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>container-\/>make(Guard::class)-\/>id();}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00222}00222\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00223}00223\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00230}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a3c99e84563aeec896cea623b72eb07e6}{00230}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a3c99e84563aeec896cea623b72eb07e6}{addRequestInformation}}(\&\$payload)}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00231}00231\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00232}00232\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>container-\/>bound(\textcolor{stringliteral}{'request'}))\ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \$payload\ =\ array\_merge(\$payload,\ [}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'ip\_address'}\ =>\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a25c5f86e691d6382891a8aecd7cda988}{ipAddress}}(),}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'user\_agent'}\ =>\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ad98310eafebb721cdc2106b7c9e49538}{userAgent}}(),}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00237}00237\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00238}00238\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00239}00239\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00240}00240\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00241}00241\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00247}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a25c5f86e691d6382891a8aecd7cda988}{00247}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a25c5f86e691d6382891a8aecd7cda988}{ipAddress}}()}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00248}00248\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00249}00249\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>container-\/>make(\textcolor{stringliteral}{'request'})-\/>ip();}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00250}00250\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00251}00251\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00257}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ad98310eafebb721cdc2106b7c9e49538}{00257}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ad98310eafebb721cdc2106b7c9e49538}{userAgent}}()}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00258}00258\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00259}00259\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ substr((\textcolor{keywordtype}{string})\ \$this-\/>container-\/>make(\textcolor{stringliteral}{'request'})-\/>header(\textcolor{stringliteral}{'User-\/Agent'}),\ 0,\ 500);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00260}00260\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00261}00261\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00267}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a7976894a2e2239ff937a9203c383c9c1}{00267}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a7976894a2e2239ff937a9203c383c9c1}{destroy}}(\$sessionId):\ bool}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00268}00268\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00269}00269\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a55f162785567258fe5138af282e588c2}{getQuery}}()-\/>where(\textcolor{stringliteral}{'id'},\ \$sessionId)-\/>delete();}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00270}00270\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00271}00271\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00272}00272\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00273}00273\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00279}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a6a4cf90dfad69cacbbd81a005cfb8006}{00279}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a6a4cf90dfad69cacbbd81a005cfb8006}{gc}}(\$lifetime):\ int}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00280}00280\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00281}00281\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a55f162785567258fe5138af282e588c2}{getQuery}}()-\/>where(\textcolor{stringliteral}{'last\_activity'},\ \textcolor{stringliteral}{'<='},\ \$this-\/>currentTime()\ -\/\ \$lifetime)-\/>delete();}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00282}00282\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00283}00283\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00289}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a55f162785567258fe5138af282e588c2}{00289}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a55f162785567258fe5138af282e588c2}{getQuery}}()}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00290}00290\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00291}00291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>connection-\/>table(\$this-\/>table);}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00292}00292\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00293}00293\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00300}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_abe9e47648b4fb0f312fa42e0c1198a7d}{00300}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_abe9e47648b4fb0f312fa42e0c1198a7d}{setContainer}}(\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ab97dd40df90f4ce6f0fce9091e7c7872}{\$container}})}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00301}00301\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00302}00302\ \ \ \ \ \ \ \ \ \$this-\/>container\ =\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_ab97dd40df90f4ce6f0fce9091e7c7872}{\$container}};}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00303}00303\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00304}00304\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00305}00305\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00306}00306\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00313}\mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a15ba6edf6c007ec8dac915e2f600d8be}{00313}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_session_1_1_database_session_handler_a15ba6edf6c007ec8dac915e2f600d8be}{setExists}}(\$value)}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00314}00314\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00315}00315\ \ \ \ \ \ \ \ \ \$this-\/>exists\ =\ \$value;}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00316}00316\ }
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00317}00317\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00318}00318\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_database_session_handler_8php_source_l00319}00319\ \}}

\end{DoxyCode}
