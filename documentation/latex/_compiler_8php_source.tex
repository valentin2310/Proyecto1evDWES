\doxysection{Compiler.\+php}
\hypertarget{_compiler_8php_source}{}\label{_compiler_8php_source}\index{vendor/laravel/framework/src/Illuminate/View/Compilers/Compiler.php@{vendor/laravel/framework/src/Illuminate/View/Compilers/Compiler.php}}
\mbox{\hyperlink{_compiler_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00003}00003\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_illuminate_1_1_view_1_1_compilers}{Illuminate\(\backslash\)View\(\backslash\)Compilers}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00005}00005\ use\ ErrorException;}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00006}00006\ use\ \mbox{\hyperlink{class_illuminate_1_1_filesystem_1_1_filesystem}{Illuminate\(\backslash\)Filesystem\(\backslash\)Filesystem}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00007}00007\ use\ \mbox{\hyperlink{class_illuminate_1_1_support_1_1_str}{Illuminate\(\backslash\)Support\(\backslash\)Str}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00008}00008\ use\ InvalidArgumentException;}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00010}\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler}{00010}}\ \textcolor{keyword}{abstract}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler}{Compiler}}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00011}00011\ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00017}\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a9590b15215a21e9b42eb546aeef79704}{00017}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a9590b15215a21e9b42eb546aeef79704}{\$files}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00024}\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a734d3a9ccfbceeabcb79877ec9eb7118}{00024}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a734d3a9ccfbceeabcb79877ec9eb7118}{\$cachePath}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00031}\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a9cd745428004768fe921475a29a7d870}{00031}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a9cd745428004768fe921475a29a7d870}{\$basePath}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00038}\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a41b6c16343687d9e78a8e3a461623c5a}{00038}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a41b6c16343687d9e78a8e3a461623c5a}{\$shouldCache}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00045}\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a4ad8caeaf4597551ef5b25b2ae95bf73}{00045}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a4ad8caeaf4597551ef5b25b2ae95bf73}{\$compiledExtension}}\ =\ \textcolor{stringliteral}{'php'};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00059}\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a63a1493d0491ada33f79290e7baf6079}{00059}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a63a1493d0491ada33f79290e7baf6079}{\_\_construct}}(}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00060}00060\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_illuminate_1_1_filesystem_1_1_filesystem}{Filesystem}}\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a9590b15215a21e9b42eb546aeef79704}{\$files}},}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00061}00061\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a734d3a9ccfbceeabcb79877ec9eb7118}{\$cachePath}},}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00062}00062\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a9cd745428004768fe921475a29a7d870}{\$basePath}}\ =\ \textcolor{stringliteral}{''},}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00063}00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a41b6c16343687d9e78a8e3a461623c5a}{\$shouldCache}}\ =\ \textcolor{keyword}{true},}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00064}00064\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a4ad8caeaf4597551ef5b25b2ae95bf73}{\$compiledExtension}}\ =\ \textcolor{stringliteral}{'php'})}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00065}00065\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00066}00066\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a734d3a9ccfbceeabcb79877ec9eb7118}{\$cachePath}})\ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidArgumentException(\textcolor{stringliteral}{'Please\ provide\ a\ valid\ cache\ path.'});}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00068}00068\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00070}00070\ \ \ \ \ \ \ \ \ \$this-\/>files\ =\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a9590b15215a21e9b42eb546aeef79704}{\$files}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00071}00071\ \ \ \ \ \ \ \ \ \$this-\/>cachePath\ =\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a734d3a9ccfbceeabcb79877ec9eb7118}{\$cachePath}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00072}00072\ \ \ \ \ \ \ \ \ \$this-\/>basePath\ =\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a9cd745428004768fe921475a29a7d870}{\$basePath}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00073}00073\ \ \ \ \ \ \ \ \ \$this-\/>shouldCache\ =\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a41b6c16343687d9e78a8e3a461623c5a}{\$shouldCache}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00074}00074\ \ \ \ \ \ \ \ \ \$this-\/>compiledExtension\ =\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a4ad8caeaf4597551ef5b25b2ae95bf73}{\$compiledExtension}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00075}00075\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00083}\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a809f381bd5b82142a23f27c4f06d6727}{00083}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a809f381bd5b82142a23f27c4f06d6727}{getCompiledPath}}(\$path)}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00084}00084\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>cachePath.\textcolor{charliteral}{'/'}.hash(\textcolor{stringliteral}{'xxh128'},\ \textcolor{stringliteral}{'v2'}.Str::after(\$path,\ \$this-\/>basePath)).\textcolor{charliteral}{'.'}.\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a4ad8caeaf4597551ef5b25b2ae95bf73}{\$this-\/>compiledExtension}};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00086}00086\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00096}\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_ac04f1acea11357d5fd95b5377ae68bfc}{00096}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_ac04f1acea11357d5fd95b5377ae68bfc}{isExpired}}(\$path)}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00097}00097\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00098}00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\ \$this-\/>shouldCache)\ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00100}00100\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00102}00102\ \ \ \ \ \ \ \ \ \$compiled\ =\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a809f381bd5b82142a23f27c4f06d6727}{getCompiledPath}}(\$path);}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ the\ compiled\ file\ doesn't\ exist\ we\ will\ indicate\ that\ the\ view\ is\ expired}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ so\ that\ it\ can\ be\ re-\/compiled.\ Else,\ we\ will\ verify\ the\ last\ modification}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00106}00106\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ of\ the\ views\ is\ less\ than\ the\ modification\ times\ of\ the\ compiled\ views.}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00107}00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\ \$this-\/>files-\/>exists(\$compiled))\ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00109}00109\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00111}00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>files-\/>lastModified(\$path)\ >=}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>files-\/>lastModified(\$compiled);}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00114}00114\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (ErrorException\ \$exception)\ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\ \$this-\/>files-\/>exists(\$compiled))\ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \$exception;}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00120}00120\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00121}00121\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00122}00122\ }
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00129}\mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a400da7f871d9898cb515a0140bc1daf1}{00129}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_view_1_1_compilers_1_1_compiler_a400da7f871d9898cb515a0140bc1daf1}{ensureCompiledDirectoryExists}}(\$path)}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00130}00130\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00131}00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\ \$this-\/>files-\/>exists(dirname(\$path)))\ \{}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>files-\/>makeDirectory(dirname(\$path),\ 0777,\ \textcolor{keyword}{true},\ \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00133}00133\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00134}00134\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_compiler_8php_source_l00135}00135\ \}}

\end{DoxyCode}
