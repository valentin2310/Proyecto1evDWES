\doxysection{Postgres\+Connector.\+php}
\hypertarget{_postgres_connector_8php_source}{}\label{_postgres_connector_8php_source}\index{vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php@{vendor/laravel/framework/src/Illuminate/Database/Connectors/PostgresConnector.php}}
\mbox{\hyperlink{_postgres_connector_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00003}00003\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_illuminate_1_1_database_1_1_connectors}{Illuminate\(\backslash\)Database\(\backslash\)Connectors}};}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00005}00005\ use\ Illuminate\(\backslash\)Database\(\backslash\)Concerns\(\backslash\)ParsesSearchPath;}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00006}00006\ use\ PDO;}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00008}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector}{00008}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector}{PostgresConnector}}\ \textcolor{keyword}{extends}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_connector}{Connector}}\ implements\ \mbox{\hyperlink{interface_illuminate_1_1_database_1_1_connectors_1_1_connector_interface}{ConnectorInterface}}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00009}00009\ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00010}00010\ \ \ \ \ use\ ParsesSearchPath;}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00017}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a011800c63ece4cbbfa77136a20607023}{00017}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a011800c63ece4cbbfa77136a20607023}{\$options}}\ =\ [}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00018}00018\ \ \ \ \ \ \ \ \ PDO::ATTR\_CASE\ =>\ PDO::CASE\_NATURAL,}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00019}00019\ \ \ \ \ \ \ \ \ PDO::ATTR\_ERRMODE\ =>\ PDO::ERRMODE\_EXCEPTION,}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00020}00020\ \ \ \ \ \ \ \ \ PDO::ATTR\_ORACLE\_NULLS\ =>\ PDO::NULL\_NATURAL,}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00021}00021\ \ \ \ \ \ \ \ \ PDO::ATTR\_STRINGIFY\_FETCHES\ =>\ \textcolor{keyword}{false},}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00022}00022\ \ \ \ \ ];}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00030}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a2d01c6fcc7f96301dcf4c5d9d01120aa}{00030}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a2d01c6fcc7f96301dcf4c5d9d01120aa}{connect}}(array\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}})}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00031}00031\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ First\ we'll\ create\ the\ basic\ DSN\ and\ connection\ instance\ connecting\ to\ the}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00033}00033\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ using\ the\ configuration\ option\ specified\ by\ the\ developer.\ We\ will\ also}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00034}00034\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ set\ the\ default\ character\ set\ on\ the\ connections\ to\ UTF-\/8\ by\ default.}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00035}00035\ \ \ \ \ \ \ \ \ \$connection\ =\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_connector_abdd8b4a45bc0c16383a251f0acfa386c}{createConnection}}(}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a420aaf8a3ef62ac101f37d6750238518}{getDsn}}(\$config),\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}},\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_connector_ae662b88d780123c835fdd68d54564146}{getOptions}}(\$config)}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00037}00037\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00039}00039\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a046897befc7c0fe5b807d7735a18b68e}{configureIsolationLevel}}(\$connection,\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}});}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00041}00041\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a69ac2c28a22b30d24b3e9907b64acc86}{configureEncoding}}(\$connection,\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}});}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00043}00043\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Next,\ we\ will\ check\ to\ see\ if\ a\ timezone\ has\ been\ specified\ in\ this\ config}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00044}00044\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ if\ it\ has\ we\ will\ issue\ a\ statement\ to\ modify\ the\ timezone\ with\ the}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00045}00045\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ database.\ Setting\ this\ DB\ timezone\ is\ an\ optional\ configuration\ item.}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00046}00046\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a2434e76e93fb8d3f0d81db7164771530}{configureTimezone}}(\$connection,\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}});}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00048}00048\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_aae2338025f9d90e2925c7c95b29baf44}{configureSearchPath}}(\$connection,\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}});}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00050}00050\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Postgres\ allows\ an\ application\_name\ to\ be\ set\ by\ the\ user\ and\ this\ name\ is}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00051}00051\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ used\ to\ when\ monitoring\ the\ application\ with\ pg\_stat\_activity.\ So\ we'll}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ determine\ if\ the\ option\ has\ been\ specified\ and\ run\ a\ statement\ if\ so.}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00053}00053\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_af0ad0bcd56c2d3a3c192da627c54ab04}{configureApplicationName}}(\$connection,\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}});}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00055}00055\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a95c50ae16580f85e2a79380110817be2}{configureSynchronousCommit}}(\$connection,\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}});}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00057}00057\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$connection;}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00058}00058\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00067}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a046897befc7c0fe5b807d7735a18b68e}{00067}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a046897befc7c0fe5b807d7735a18b68e}{configureIsolationLevel}}(\$connection,\ array\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}})}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00068}00068\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00069}00069\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'isolation\_level'}]))\ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \$connection-\/>prepare(\textcolor{stringliteral}{"{}set\ session\ characteristics\ as\ transaction\ isolation\ level\ \{\$config['isolation\_level']\}"{}})-\/>execute();}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00071}00071\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00072}00072\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00081}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a69ac2c28a22b30d24b3e9907b64acc86}{00081}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a69ac2c28a22b30d24b3e9907b64acc86}{configureEncoding}}(\$connection,\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}})}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00082}00082\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00083}00083\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\ isset(\mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'charset'}]))\ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00084}00084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00085}00085\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00087}00087\ \ \ \ \ \ \ \ \ \$connection-\/>prepare(\textcolor{stringliteral}{"{}set\ names\ '\{\$config['charset']\}'"{}})-\/>execute();}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00088}00088\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00097}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a2434e76e93fb8d3f0d81db7164771530}{00097}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a2434e76e93fb8d3f0d81db7164771530}{configureTimezone}}(\$connection,\ array\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}})}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00098}00098\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00099}00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'timezone'}]))\ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ \$timezone\ =\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'timezone'}];}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ \ \ \$connection-\/>prepare(\textcolor{stringliteral}{"{}set\ time\ zone\ '\{\$timezone\}'"{}})-\/>execute();}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00103}00103\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00104}00104\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00105}00105\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00113}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_aae2338025f9d90e2925c7c95b29baf44}{00113}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_aae2338025f9d90e2925c7c95b29baf44}{configureSearchPath}}(\$connection,\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}})}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00114}00114\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00115}00115\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'search\_path'}])\ ||\ isset(\mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'schema'}]))\ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \$searchPath\ =\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a8d47a1969c1ccaba43e907b30be5ab54}{quoteSearchPath}}(}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>parseSearchPath(\mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'search\_path'}]\ ??\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'schema'}])}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \$connection-\/>prepare(\textcolor{stringliteral}{"{}set\ search\_path\ to\ \{\$searchPath\}"{}})-\/>execute();}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00121}00121\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00122}00122\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00130}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a8d47a1969c1ccaba43e907b30be5ab54}{00130}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a8d47a1969c1ccaba43e907b30be5ab54}{quoteSearchPath}}(\$searchPath)}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00131}00131\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00132}00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ count(\$searchPath)\ ===\ 1\ ?\ \textcolor{charliteral}{'"{}'}.\$searchPath[0].\textcolor{charliteral}{'"{}'}\ :\ \textcolor{charliteral}{'"{}'}.implode(\textcolor{stringliteral}{'"{},\ "{}'},\ \$searchPath).\textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00133}00133\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00142}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_af0ad0bcd56c2d3a3c192da627c54ab04}{00142}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_af0ad0bcd56c2d3a3c192da627c54ab04}{configureApplicationName}}(\$connection,\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}})}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00143}00143\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00144}00144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'application\_name'}]))\ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \$applicationName\ =\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'application\_name'}];}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00147}00147\ \ \ \ \ \ \ \ \ \ \ \ \ \$connection-\/>prepare(\textcolor{stringliteral}{"{}set\ application\_name\ to\ '\$applicationName'"{}})-\/>execute();}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00148}00148\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00149}00149\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00150}00150\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00157}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a420aaf8a3ef62ac101f37d6750238518}{00157}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a420aaf8a3ef62ac101f37d6750238518}{getDsn}}(array\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}})}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00158}00158\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00159}00159\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ First\ we\ will\ create\ the\ basic\ DSN\ setup\ as\ well\ as\ the\ port\ if\ it\ is\ in}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00160}00160\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ in\ the\ configuration\ options.\ This\ will\ give\ us\ the\ basic\ DSN\ we\ will}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00161}00161\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ need\ to\ establish\ the\ PDO\ connections\ and\ return\ them\ back\ for\ use.}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00162}00162\ \ \ \ \ \ \ \ \ extract(\mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}},\ EXTR\_SKIP);}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00164}00164\ \ \ \ \ \ \ \ \ \$host\ =\ isset(\$host)\ ?\ \textcolor{stringliteral}{"{}host=\{\$host\};"{}}\ :\ \textcolor{stringliteral}{''};}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00165}00165\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00166}00166\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Sometimes\ -\/\ users\ may\ need\ to\ connect\ to\ a\ database\ that\ has\ a\ different}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00167}00167\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ name\ than\ the\ database\ used\ for\ "{}information\_schema"{}\ queries.\ This\ is}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00168}00168\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ typically\ the\ case\ if\ using\ "{}pgbouncer"{}\ type\ software\ when\ pooling.}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00169}00169\ \ \ \ \ \ \ \ \ \$database\ =\ \$connect\_via\_database\ ??\ \$database;}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00170}00170\ \ \ \ \ \ \ \ \ \$port\ =\ \$connect\_via\_port\ ??\ \$port\ ??\ \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00171}00171\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00172}00172\ \ \ \ \ \ \ \ \ \$dsn\ =\ \textcolor{stringliteral}{"{}pgsql:\{\$host\}dbname='\{\$database\}'"{}};}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00173}00173\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00174}00174\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ a\ port\ was\ specified,\ we\ will\ add\ it\ to\ this\ Postgres\ DSN\ connections}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00175}00175\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ format.\ Once\ we\ have\ done\ that\ we\ are\ ready\ to\ return\ this\ connection}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00176}00176\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ string\ back\ out\ for\ usage,\ as\ this\ has\ been\ fully\ constructed\ here.}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00177}00177\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\ is\_null(\$port))\ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \$dsn\ .=\ \textcolor{stringliteral}{"{};port=\{\$port\}"{}};}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00179}00179\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00180}00180\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00181}00181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a2e16e555d5bc13b657fad4e1d1393f3b}{addSslOptions}}(\$dsn,\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}});}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00182}00182\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00183}00183\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00191}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a2e16e555d5bc13b657fad4e1d1393f3b}{00191}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a2e16e555d5bc13b657fad4e1d1393f3b}{addSslOptions}}(\$dsn,\ array\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}})}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00192}00192\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00193}00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ ([\textcolor{stringliteral}{'sslmode'},\ \textcolor{stringliteral}{'sslcert'},\ \textcolor{stringliteral}{'sslkey'},\ \textcolor{stringliteral}{'sslrootcert'}]\ as\ \$option)\ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\$option]))\ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$dsn\ .=\ \textcolor{stringliteral}{"{};\{\$option\}=\{\$config[\$option]\}"{}};}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00197}00197\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00198}00198\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00199}00199\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$dsn;}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00200}00200\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00201}00201\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00209}\mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a95c50ae16580f85e2a79380110817be2}{00209}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_database_1_1_connectors_1_1_postgres_connector_a95c50ae16580f85e2a79380110817be2}{configureSynchronousCommit}}(\$connection,\ array\ \mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}})}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00210}00210\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00211}00211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\ isset(\mbox{\hyperlink{translation-status_8php_a49c7011be9c979d9174c52a8b83e5d8e}{\$config}}[\textcolor{stringliteral}{'synchronous\_commit'}]))\ \{}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00212}00212\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00213}00213\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00214}00214\ }
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00215}00215\ \ \ \ \ \ \ \ \ \$connection-\/>prepare(\textcolor{stringliteral}{"{}set\ synchronous\_commit\ to\ '\{\$config['synchronous\_commit']\}'"{}})-\/>execute();}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00216}00216\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_postgres_connector_8php_source_l00217}00217\ \}}

\end{DoxyCode}
