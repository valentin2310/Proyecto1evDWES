\doxysection{update\+\_\+mime\+\_\+types.\+php}
\hypertarget{update__mime__types_8php_source}{}\label{update__mime__types_8php_source}\index{vendor/symfony/mime/Resources/bin/update\_mime\_types.php@{vendor/symfony/mime/Resources/bin/update\_mime\_types.php}}
\mbox{\hyperlink{update__mime__types_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00003}00003\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00004}00004\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ the\ Symfony\ package.}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00005}00005\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00006}00006\ \textcolor{comment}{\ *\ (c)\ Fabien\ Potencier\ <fabien@symfony.com>}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00007}00007\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00008}00008\ \textcolor{comment}{\ *\ For\ the\ full\ copyright\ and\ license\ information,\ please\ view\ the\ LICENSE}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00009}00009\ \textcolor{comment}{\ *\ file\ that\ was\ distributed\ with\ this\ source\ code.}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00010}00010\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00012}00012\ \textcolor{keywordflow}{if}\ (\textcolor{stringliteral}{'cli'}\ !==\ \(\backslash\)PHP\_SAPI)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00013}00013\ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ Exception(\textcolor{stringliteral}{'This\ script\ must\ be\ run\ from\ the\ command\ line.'});}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00014}00014\ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00016}00016\ \textcolor{comment}{//\ load\ new\ map}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00017}\mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{00017}}\ \mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}}\ =\ json\_decode(file\_get\_contents(\textcolor{stringliteral}{'https://cdn.jsdelivr.net/gh/jshttp/mime-\/db@v1.49.0/db.json'}),\ \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00018}\mbox{\hyperlink{update__mime__types_8php_a1d995397cf49f53afa5eed45eb5d1b32}{00018}}\ \mbox{\hyperlink{update__mime__types_8php_a1d995397cf49f53afa5eed45eb5d1b32}{\$new}}\ =\ [];}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00019}00019\ \textcolor{keywordflow}{foreach}\ (\mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}}\ as\ \$mimeType\ =>\ \$mimeTypeInformation)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00020}00020\ \ \ \ \ \textcolor{keywordflow}{if}\ (!array\_key\_exists(\textcolor{stringliteral}{'extensions'},\ \$mimeTypeInformation))\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00021}00021\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00022}00022\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00023}00023\ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_a1d995397cf49f53afa5eed45eb5d1b32}{\$new}}[\$mimeType]\ =\ \$mimeTypeInformation[\textcolor{stringliteral}{'extensions'}];}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00024}00024\ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00026}\mbox{\hyperlink{update__mime__types_8php_aa52a2a352e548e772b68229db4a48c25}{00026}}\ \mbox{\hyperlink{update__mime__types_8php_aa52a2a352e548e772b68229db4a48c25}{\$xml}}\ =\ simplexml\_load\_string(file\_get\_contents(\textcolor{stringliteral}{'https://gitlab.freedesktop.org/xdg/shared-\/mime-\/info/-\//raw/master/data/freedesktop.org.xml.in'}));}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00027}00027\ \textcolor{keywordflow}{foreach}\ (\mbox{\hyperlink{update__mime__types_8php_aa52a2a352e548e772b68229db4a48c25}{\$xml}}\ as\ \$node)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00028}00028\ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}}\ =\ [];}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00029}00029\ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$node-\/>glob\ as\ \$glob)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00030}00030\ \ \ \ \ \ \ \ \ \$pattern\ =\ (string)\ \$glob[\textcolor{stringliteral}{'pattern'}];}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00031}00031\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{charliteral}{'*'}\ !=\ \$pattern[0]\ ||\ \textcolor{charliteral}{'.'}\ !=\ \$pattern[1])\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00033}00033\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00035}00035\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}}[]\ =\ substr(\$pattern,\ 2);}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00036}00036\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00038}00038\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}})\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00039}00039\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00040}00040\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00042}00042\ \ \ \ \ \$mt\ =\ strtolower((\textcolor{keywordtype}{string})\ \$node[\textcolor{stringliteral}{'type'}]);}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00043}00043\ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_a1d995397cf49f53afa5eed45eb5d1b32}{\$new}}[\$mt]\ =\ array\_merge(\mbox{\hyperlink{update__mime__types_8php_a1d995397cf49f53afa5eed45eb5d1b32}{\$new}}[\$mt]\ ??\ [],\ \mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}});}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00044}00044\ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$node-\/>alias\ as\ \$alias)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00045}00045\ \ \ \ \ \ \ \ \ \$mt\ =\ strtolower((\textcolor{keywordtype}{string})\ \$alias[\textcolor{stringliteral}{'type'}]);}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00046}00046\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_a1d995397cf49f53afa5eed45eb5d1b32}{\$new}}[\$mt]\ =\ array\_merge(\mbox{\hyperlink{update__mime__types_8php_a1d995397cf49f53afa5eed45eb5d1b32}{\$new}}[\$mt]\ ??\ [],\ \mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}});}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00047}00047\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00048}00048\ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00050}00050\ \textcolor{comment}{//\ load\ current\ map}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00051}00051\ \mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}}\ =\ file\_get\_contents(\$output\ =\ \_\_DIR\_\_.\textcolor{stringliteral}{'/../../MimeTypes.php'});}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00052}\mbox{\hyperlink{update__mime__types_8php_a2c4c58e377f6c66ca38c8ea97666fc5e}{00052}}\ \mbox{\hyperlink{update__mime__types_8php_a2c4c58e377f6c66ca38c8ea97666fc5e}{\$current}}\ =\ [];}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00053}\mbox{\hyperlink{update__mime__types_8php_a0de5ac44c47981d2c32b648debf4a7e0}{00053}}\ \mbox{\hyperlink{update__mime__types_8php_a0de5ac44c47981d2c32b648debf4a7e0}{\$pre}}\ =\ \textcolor{stringliteral}{''};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00054}\mbox{\hyperlink{update__mime__types_8php_a53d6c7669d97392c407c4f959a5263db}{00054}}\ \mbox{\hyperlink{update__mime__types_8php_a53d6c7669d97392c407c4f959a5263db}{\$post}}\ =\ \textcolor{stringliteral}{''};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00055}00055\ \textcolor{keywordflow}{foreach}\ (explode(\textcolor{stringliteral}{"{}\(\backslash\)n"{}},\ \mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}})\ as\ \$line)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00056}00056\ \ \ \ \ \textcolor{keywordflow}{if}\ (!preg\_match(\textcolor{stringliteral}{"{}\{\string^\ \ \ \ \ \ \ \ '([\string^']+/[\string^']+)'\ =>\ \(\backslash\)['(.+)'\(\backslash\)],\$\}"{}},\ \$line,\ \$matches))\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00057}00057\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{update__mime__types_8php_a2c4c58e377f6c66ca38c8ea97666fc5e}{\$current}})\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_a0de5ac44c47981d2c32b648debf4a7e0}{\$pre}}\ .=\ \$line.\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00059}00059\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_a53d6c7669d97392c407c4f959a5263db}{\$post}}\ .=\ \$line.\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00061}00061\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00063}00063\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00064}00064\ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_a2c4c58e377f6c66ca38c8ea97666fc5e}{\$current}}[\$matches[1]]\ =\ explode(\textcolor{stringliteral}{"{}',\ '"{}},\ \$matches[2]);}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00065}00065\ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00067}00067\ \mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}}\ =\ \mbox{\hyperlink{update__mime__types_8php_a0de5ac44c47981d2c32b648debf4a7e0}{\$pre}};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00069}00069\ \textcolor{comment}{//\ reverse\ map}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00070}00070\ \textcolor{comment}{//\ we\ prefill\ the\ extensions\ with\ some\ preferences\ for\ content-\/types}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00071}\mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{00071}}\ \mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}}\ =\ [}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00072}00072\ \ \ \ \ \textcolor{stringliteral}{'asice'}\ =>\ [\textcolor{stringliteral}{'application/vnd.etsi.asic-\/e+zip'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00073}00073\ \ \ \ \ \textcolor{stringliteral}{'bz2'}\ =>\ [\textcolor{stringliteral}{'application/x-\/bz2'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00074}00074\ \ \ \ \ \textcolor{stringliteral}{'csv'}\ =>\ [\textcolor{stringliteral}{'text/csv'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00075}00075\ \ \ \ \ \textcolor{stringliteral}{'ecma'}\ =>\ [\textcolor{stringliteral}{'application/ecmascript'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00076}00076\ \ \ \ \ \textcolor{stringliteral}{'flv'}\ =>\ [\textcolor{stringliteral}{'video/x-\/flv'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00077}00077\ \ \ \ \ \textcolor{stringliteral}{'gif'}\ =>\ [\textcolor{stringliteral}{'image/gif'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00078}00078\ \ \ \ \ \textcolor{stringliteral}{'gz'}\ =>\ [\textcolor{stringliteral}{'application/x-\/gzip'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00079}00079\ \ \ \ \ \textcolor{stringliteral}{'htm'}\ =>\ [\textcolor{stringliteral}{'text/html'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00080}00080\ \ \ \ \ \textcolor{stringliteral}{'html'}\ =>\ [\textcolor{stringliteral}{'text/html'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00081}00081\ \ \ \ \ \textcolor{stringliteral}{'jar'}\ =>\ [\textcolor{stringliteral}{'application/x-\/java-\/archive'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00082}00082\ \ \ \ \ \textcolor{stringliteral}{'jpg'}\ =>\ [\textcolor{stringliteral}{'image/jpeg'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00083}00083\ \ \ \ \ \textcolor{stringliteral}{'js'}\ =>\ [\textcolor{stringliteral}{'text/javascript'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00084}00084\ \ \ \ \ \textcolor{stringliteral}{'keynote'}\ =>\ [\textcolor{stringliteral}{'application/vnd.apple.keynote'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00085}00085\ \ \ \ \ \textcolor{stringliteral}{'key'}\ =>\ [\textcolor{stringliteral}{'application/vnd.apple.keynote'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00086}00086\ \ \ \ \ \textcolor{stringliteral}{'m3u'}\ =>\ [\textcolor{stringliteral}{'audio/x-\/mpegurl'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00087}00087\ \ \ \ \ \textcolor{stringliteral}{'m4a'}\ =>\ [\textcolor{stringliteral}{'audio/mp4'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00088}00088\ \ \ \ \ \textcolor{stringliteral}{'md'}\ =>\ [\textcolor{stringliteral}{'text/markdown'},\ \textcolor{stringliteral}{'text/x-\/markdown'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00089}00089\ \ \ \ \ \textcolor{stringliteral}{'mdb'}\ =>\ [\textcolor{stringliteral}{'application/x-\/msaccess'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00090}00090\ \ \ \ \ \textcolor{stringliteral}{'mid'}\ =>\ [\textcolor{stringliteral}{'audio/midi'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00091}00091\ \ \ \ \ \textcolor{stringliteral}{'mov'}\ =>\ [\textcolor{stringliteral}{'video/quicktime'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00092}00092\ \ \ \ \ \textcolor{stringliteral}{'mp3'}\ =>\ [\textcolor{stringliteral}{'audio/mpeg'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00093}00093\ \ \ \ \ \textcolor{stringliteral}{'ogg'}\ =>\ [\textcolor{stringliteral}{'audio/ogg'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00094}00094\ \ \ \ \ \textcolor{stringliteral}{'pdf'}\ =>\ [\textcolor{stringliteral}{'application/pdf'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00095}00095\ \ \ \ \ \textcolor{stringliteral}{'php'}\ =>\ [\textcolor{stringliteral}{'application/x-\/php'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00096}00096\ \ \ \ \ \textcolor{stringliteral}{'ppt'}\ =>\ [\textcolor{stringliteral}{'application/vnd.ms-\/powerpoint'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00097}00097\ \ \ \ \ \textcolor{stringliteral}{'rar'}\ =>\ [\textcolor{stringliteral}{'application/x-\/rar-\/compressed'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00098}00098\ \ \ \ \ \textcolor{stringliteral}{'hqx'}\ =>\ [\textcolor{stringliteral}{'application/stuffit'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00099}00099\ \ \ \ \ \textcolor{stringliteral}{'sit'}\ =>\ [\textcolor{stringliteral}{'application/x-\/stuffit'},\ \textcolor{stringliteral}{'application/stuffit'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00100}00100\ \ \ \ \ \textcolor{stringliteral}{'svg'}\ =>\ [\textcolor{stringliteral}{'image/svg+xml'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00101}00101\ \ \ \ \ \textcolor{stringliteral}{'tar'}\ =>\ [\textcolor{stringliteral}{'application/x-\/tar'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00102}00102\ \ \ \ \ \textcolor{stringliteral}{'tif'}\ =>\ [\textcolor{stringliteral}{'image/tiff'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00103}00103\ \ \ \ \ \textcolor{stringliteral}{'ttf'}\ =>\ [\textcolor{stringliteral}{'application/x-\/font-\/truetype'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00104}00104\ \ \ \ \ \textcolor{stringliteral}{'vcf'}\ =>\ [\textcolor{stringliteral}{'text/x-\/vcard'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00105}00105\ \ \ \ \ \textcolor{stringliteral}{'wav'}\ =>\ [\textcolor{stringliteral}{'audio/wav'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00106}00106\ \ \ \ \ \textcolor{stringliteral}{'wma'}\ =>\ [\textcolor{stringliteral}{'audio/x-\/ms-\/wma'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00107}00107\ \ \ \ \ \textcolor{stringliteral}{'wmv'}\ =>\ [\textcolor{stringliteral}{'audio/x-\/ms-\/wmv'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00108}00108\ \ \ \ \ \textcolor{stringliteral}{'xls'}\ =>\ [\textcolor{stringliteral}{'application/vnd.ms-\/excel'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00109}00109\ \ \ \ \ \textcolor{stringliteral}{'zip'}\ =>\ [\textcolor{stringliteral}{'application/zip'}],}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00110}00110\ ];}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00112}00112\ \textcolor{comment}{//\ we\ merge\ the\ 2\ maps\ (we\ never\ remove\ old\ mime\ types)}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00113}\mbox{\hyperlink{update__mime__types_8php_acdcfcd6e65900bdadd894106750cf520}{00113}}\ \mbox{\hyperlink{update__mime__types_8php_acdcfcd6e65900bdadd894106750cf520}{\$map}}\ =\ array\_replace\_recursive(\mbox{\hyperlink{update__mime__types_8php_a2c4c58e377f6c66ca38c8ea97666fc5e}{\$current}},\ \mbox{\hyperlink{update__mime__types_8php_a1d995397cf49f53afa5eed45eb5d1b32}{\$new}});}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00115}00115\ \textcolor{keywordflow}{foreach}\ (\mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}}\ as\ \$ext\ =>\ \$types)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00116}00116\ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$types\ as\ \$mt)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00117}00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!isset(\mbox{\hyperlink{update__mime__types_8php_acdcfcd6e65900bdadd894106750cf520}{\$map}}[\$mt]))\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_acdcfcd6e65900bdadd894106750cf520}{\$map}}\ +=\ [\$mt\ =>\ [\$ext]];}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00119}00119\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00120}00120\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00121}00121\ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00122}00122\ ksort(\mbox{\hyperlink{update__mime__types_8php_acdcfcd6e65900bdadd894106750cf520}{\$map}});}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00124}00124\ \textcolor{keywordflow}{foreach}\ (\mbox{\hyperlink{update__mime__types_8php_acdcfcd6e65900bdadd894106750cf520}{\$map}}\ as\ \$mimeType\ =>\ \$extensions)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00125}00125\ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}}\ as\ \$ext\ =>\ \$types)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00126}00126\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (in\_array(\$mimeType,\ \$types,\ \textcolor{keyword}{true}))\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ array\_unshift(\$extensions,\ \$ext);}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00128}00128\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00129}00129\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00130}00130\ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}}\ .=\ sprintf(\textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ '\%s'\ =>\ ['\%s'],\(\backslash\)n"{}},\ \$mimeType,\ implode(\textcolor{stringliteral}{"{}',\ '"{}},\ array\_unique(\$extensions)));}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00131}00131\ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00132}00132\ \mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}}\ .=\ \mbox{\hyperlink{update__mime__types_8php_a53d6c7669d97392c407c4f959a5263db}{\$post}};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00133}00133\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00134}00134\ \textcolor{keywordflow}{foreach}\ (\mbox{\hyperlink{update__mime__types_8php_acdcfcd6e65900bdadd894106750cf520}{\$map}}\ as\ \$mimeType\ =>\ \$extensions)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00135}00135\ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$extensions\ as\ \$extension)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00136}00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{stringliteral}{'application/octet-\/stream'}\ ===\ \$mimeType\ \&\&\ \textcolor{stringliteral}{'bin'}\ !==\ \$extension)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00138}00138\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00140}00140\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}}[\$extension][]\ =\ \$mimeType;}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00141}00141\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00142}00142\ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00143}00143\ ksort(\mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}});}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00144}00144\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00145}\mbox{\hyperlink{update__mime__types_8php_a350e6204882f10ca369aebe31e9e1b6a}{00145}}\ \mbox{\hyperlink{update__mime__types_8php_a350e6204882f10ca369aebe31e9e1b6a}{\$updated}}\ =\ \textcolor{stringliteral}{''};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00146}\mbox{\hyperlink{update__mime__types_8php_ae82306c4f2d17d8dd5c7d8d916b33bed}{00146}}\ \mbox{\hyperlink{update__mime__types_8php_ae82306c4f2d17d8dd5c7d8d916b33bed}{\$state}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00147}00147\ \textcolor{keywordflow}{foreach}\ (explode(\textcolor{stringliteral}{"{}\(\backslash\)n"{}},\ \mbox{\hyperlink{update__mime__types_8php_ab9807831e7f54cb17039eb0b280ef902}{\$data}})\ as\ \$line)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00148}00148\ \ \ \ \ \textcolor{keywordflow}{if}\ (!preg\_match(\textcolor{stringliteral}{"{}\{\string^\ \ \ \ \ \ \ \ '([\string^'/]+)'\ =>\ \(\backslash\)['(.+)'\(\backslash\)],\$\}"{}},\ \$line,\ \$matches))\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00149}00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (1\ ===\ \mbox{\hyperlink{update__mime__types_8php_ae82306c4f2d17d8dd5c7d8d916b33bed}{\$state}})\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_ae82306c4f2d17d8dd5c7d8d916b33bed}{\$state}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\mbox{\hyperlink{update__mime__types_8php_afe662821d69ab461c44b3b7003bfcd19}{\$exts}}\ as\ \$ext\ =>\ \$mimeTypes)\ \{}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_a350e6204882f10ca369aebe31e9e1b6a}{\$updated}}\ .=\ sprintf(\textcolor{stringliteral}{"{}\ \ \ \ \ \ \ \ '\%s'\ =>\ ['\%s'],\(\backslash\)n"{}},\ \$ext,\ implode(\textcolor{stringliteral}{"{}',\ '"{}},\ array\_unique(\$mimeTypes)));}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00154}00154\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00155}00155\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_a350e6204882f10ca369aebe31e9e1b6a}{\$updated}}\ .=\ \$line.\textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00156}00156\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00157}00157\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00158}00158\ \ \ \ \ \mbox{\hyperlink{update__mime__types_8php_ae82306c4f2d17d8dd5c7d8d916b33bed}{\$state}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00159}00159\ \}}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00161}00161\ \mbox{\hyperlink{update__mime__types_8php_a350e6204882f10ca369aebe31e9e1b6a}{\$updated}}\ =\ preg\_replace(\textcolor{stringliteral}{'\{Updated\ from\ upstream\ on\ .+?\(\backslash\).\}'},\ \textcolor{stringliteral}{'Updated\ from\ upstream\ on\ '}.date(\textcolor{stringliteral}{'Y-\/m-\/d'}),\ \mbox{\hyperlink{update__mime__types_8php_a350e6204882f10ca369aebe31e9e1b6a}{\$updated}},\ -\/1);}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00162}00162\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00163}00163\ file\_put\_contents(\$output,\ rtrim(\mbox{\hyperlink{update__mime__types_8php_a350e6204882f10ca369aebe31e9e1b6a}{\$updated}},\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}).\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00164}00164\ }
\DoxyCodeLine{\Hypertarget{update__mime__types_8php_source_l00165}00165\ echo\ \textcolor{stringliteral}{"{}Done.\(\backslash\)n"{}};}

\end{DoxyCode}
