\doxysection{Migration\+Generator\+Command.\+php}
\hypertarget{_migration_generator_command_8php_source}{}\label{_migration_generator_command_8php_source}\index{vendor/laravel/framework/src/Illuminate/Console/MigrationGeneratorCommand.php@{vendor/laravel/framework/src/Illuminate/Console/MigrationGeneratorCommand.php}}
\mbox{\hyperlink{_migration_generator_command_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00003}00003\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_illuminate_1_1_console}{Illuminate\(\backslash\)Console}};}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00005}00005\ use\ \mbox{\hyperlink{class_illuminate_1_1_filesystem_1_1_filesystem}{Illuminate\(\backslash\)Filesystem\(\backslash\)Filesystem}};}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00006}00006\ use\ \mbox{\hyperlink{class_illuminate_1_1_support_1_1_composer}{Illuminate\(\backslash\)Support\(\backslash\)Composer}};}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00008}\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command}{00008}}\ \textcolor{keyword}{abstract}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command}{MigrationGeneratorCommand}}\ \textcolor{keyword}{extends}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_command}{Command}}}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00009}00009\ \{}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00015}\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a9590b15215a21e9b42eb546aeef79704}{00015}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a9590b15215a21e9b42eb546aeef79704}{\$files}};}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00024}\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a9ac3c597e958aad60b45b053b0d80ba1}{00024}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a9ac3c597e958aad60b45b053b0d80ba1}{\$composer}};}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00033}\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_acc2734e36cef8dea68876fa56d9422a6}{00033}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_acc2734e36cef8dea68876fa56d9422a6}{\_\_construct}}(\mbox{\hyperlink{class_illuminate_1_1_filesystem_1_1_filesystem}{Filesystem}}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a9590b15215a21e9b42eb546aeef79704}{\$files}},\ \mbox{\hyperlink{namespace_composer}{Composer}}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a9ac3c597e958aad60b45b053b0d80ba1}{\$composer}})}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00034}00034\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00035}00035\ \ \ \ \ \ \ \ \ parent::\_\_construct();}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00037}00037\ \ \ \ \ \ \ \ \ \$this-\/>files\ =\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a9590b15215a21e9b42eb546aeef79704}{\$files}};}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00038}00038\ \ \ \ \ \ \ \ \ \$this-\/>composer\ =\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a9ac3c597e958aad60b45b053b0d80ba1}{\$composer}};}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00039}00039\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00046}\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_ae5bfd5ae6857306e7ea2ac9ee088ae71}{00046}}\ \ \ \ \ \textcolor{keyword}{abstract}\ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_ae5bfd5ae6857306e7ea2ac9ee088ae71}{migrationTableName}}();}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00053}\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a49c5a21482fc2c2900d3ccf421af6cad}{00053}}\ \ \ \ \ \textcolor{keyword}{abstract}\ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a49c5a21482fc2c2900d3ccf421af6cad}{migrationStubFile}}();}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00060}\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a66eb7514ea7f7f8a5738a180b14e9b48}{00060}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a66eb7514ea7f7f8a5738a180b14e9b48}{handle}}()}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00061}00061\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00062}00062\ \ \ \ \ \ \ \ \ \$table\ =\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_ae5bfd5ae6857306e7ea2ac9ee088ae71}{migrationTableName}}();}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00064}00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a25d0399439313aab5503b06b4ae53439}{migrationExists}}(\$table))\ \{}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>components-\/>error(\textcolor{stringliteral}{'Migration\ already\ exists.'});}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00068}00068\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00070}00070\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a8a326ab7bdd0f0050d32042670e7a281}{replaceMigrationPlaceholders}}(}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a6d9ead59fb95187c89262f37215db5db}{createBaseMigration}}(\$table),\ \$table}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00072}00072\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00074}00074\ \ \ \ \ \ \ \ \ \$this-\/>components-\/>info(\textcolor{stringliteral}{'Migration\ created\ successfully.'});}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00076}00076\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00077}00077\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00085}\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a6d9ead59fb95187c89262f37215db5db}{00085}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a6d9ead59fb95187c89262f37215db5db}{createBaseMigration}}(\$table)}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00086}00086\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00087}00087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>laravel[\textcolor{stringliteral}{'migration.creator'}]-\/>create(}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'create\_'}.\$table.\textcolor{stringliteral}{'\_table'},\ \$this-\/>laravel-\/>databasePath(\textcolor{stringliteral}{'/migrations'})}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00089}00089\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00090}00090\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00099}\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a8a326ab7bdd0f0050d32042670e7a281}{00099}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a8a326ab7bdd0f0050d32042670e7a281}{replaceMigrationPlaceholders}}(\$path,\ \$table)}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00100}00100\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00101}00101\ \ \ \ \ \ \ \ \ \$stub\ =\ str\_replace(}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'\{\{table\}\}'},\ \$table,\ \$this-\/>files-\/>get(\$this-\/>migrationStubFile())}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00103}00103\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00105}00105\ \ \ \ \ \ \ \ \ \$this-\/>files-\/>put(\$path,\ \$stub);}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00106}00106\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00114}\mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a25d0399439313aab5503b06b4ae53439}{00114}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_migration_generator_command_a25d0399439313aab5503b06b4ae53439}{migrationExists}}(\$table)}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00115}00115\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ count(\$this-\/>files-\/>glob(}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>laravel-\/>joinPaths(\$this-\/>laravel-\/>databasePath(\textcolor{stringliteral}{'migrations'}),\ \textcolor{stringliteral}{'*\_*\_*\_*\_create\_'}.\$table.\textcolor{stringliteral}{'\_table.php'})}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00118}00118\ \ \ \ \ \ \ \ \ ))\ !==\ 0;}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00119}00119\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_migration_generator_command_8php_source_l00120}00120\ \}}

\end{DoxyCode}
