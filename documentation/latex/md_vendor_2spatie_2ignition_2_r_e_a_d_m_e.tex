\chapter{Ignition\+: a beautiful error page for PHP apps}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e}{}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e}\index{Ignition: a beautiful error page for PHP apps@{Ignition: a beautiful error page for PHP apps}}
\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2104}%
\Hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2104}%
 \href{https://packagist.org/packages/spatie/ignition}{\texttt{ }} \href{https://github.com/spatie/ignition/actions/workflows/run-tests.yml}{\texttt{ }} \href{https://packagist.org/packages/spatie/ignition}{\texttt{ }}

\href{https://flareapp.io/docs/ignition-for-laravel/introduction}{\texttt{ Ignition}} is a beautiful and customizable error page for PHP applications

Here\textquotesingle{}s a minimal example on how to register ignition.


\begin{DoxyCode}{0}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_spatie_1_1_ignition_1_1_ignition}{Spatie\(\backslash\)Ignition\(\backslash\)Ignition}};}
\DoxyCodeLine{}
\DoxyCodeLine{include\ \textcolor{stringliteral}{'vendor/autoload.php'};}
\DoxyCodeLine{}
\DoxyCodeLine{Ignition::make()-\/>\mbox{\hyperlink{class_spatie_1_1_ignition_1_1_ignition_acc294a6cc8e69743746820e3d15e3f78}{register}}();}

\end{DoxyCode}


Let\textquotesingle{}s now throw an exception during a web request.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ Exception(\textcolor{stringliteral}{'Bye\ world'});}

\end{DoxyCode}


This is what you\textquotesingle{}ll see in the browser.



There\textquotesingle{}s also a beautiful dark mode.

\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2105}{}\doxysection{\texorpdfstring{Are you a visual learner?}{Are you a visual learner?}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2105}
In \href{https://youtu.be/LEY0N0Bteew?t=739}{\texttt{ this video on You\+Tube}}, you\textquotesingle{}ll see a demo of all of the features.

Do know more about the design decisions we made, read \href{https://freek.dev/2168-ignition-the-most-beautiful-error-page-for-laravel-and-php-got-a-major-redesign}{\texttt{ this blog post}}.\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2106}{}\doxysection{\texorpdfstring{Support us}{Support us}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2106}
\href{https://spatie.be/github-ad-click/ignition}{\texttt{ \texorpdfstring{$<$}{<}img src="{}https\+://github-\/ads.\+s3.\+eu-\/central-\/1.\+amazonaws.\+com/ignition.\+jpg?t=1"{} width="{}419px"{} /\texorpdfstring{$>$}{>}}}

We invest a lot of resources into creating \href{https://spatie.be/open-source}{\texttt{ best in class open source packages}}. You can support us by \href{https://spatie.be/open-source/support-us}{\texttt{ buying one of our paid products}}.

We highly appreciate you sending us a postcard from your hometown, mentioning which of our package(s) you are using. You\textquotesingle{}ll find our address on \href{https://spatie.be/about-us}{\texttt{ our contact page}}. We publish all received postcards on \href{https://spatie.be/open-source/postcards}{\texttt{ our virtual postcard wall}}.\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2107}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2107}
For Laravel apps, head over to \href{https://github.com/spatie/laravel-ignition}{\texttt{ laravel-\/ignition}}.

For Symfony apps, go to \href{https://github.com/spatie/symfony-ignition-bundle}{\texttt{ symfony-\/ignition-\/bundle}}.

For Drupal 10+ websites, use the \href{https://www.drupal.org/project/ignition}{\texttt{ Ignition module}}.

For all other PHP projects, install the package via composer\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{composer\ require\ spatie/ignition}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2108}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2108}
In order to display the Ignition error page when an error occurs in your project, you must add this code. Typically, this would be done in the bootstrap part of your application.


\begin{DoxyCode}{0}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()-\/>register();}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2109}{}\doxysubsection{\texorpdfstring{Setting the application path}{Setting the application path}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2109}
When setting the application path, Ignition will trim the given value from all paths. This will make the error page look more cleaner.


\begin{DoxyCode}{0}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>applicationPath(\$basePathOfYourApplication)}
\DoxyCodeLine{\ \ \ \ -\/>register();}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2110}{}\doxysubsection{\texorpdfstring{Using dark mode}{Using dark mode}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2110}
By default, Ignition uses a nice white based theme. If this is too bright for your eyes, you can use dark mode.


\begin{DoxyCode}{0}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>useDarkMode()}
\DoxyCodeLine{\ \ \ \ -\/>register();}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2111}{}\doxysubsection{\texorpdfstring{Avoid rendering Ignition in a production environment}{Avoid rendering Ignition in a production environment}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2111}
You don\textquotesingle{}t want to render the Ignition error page in a production environment, as it potentially can display sensitive information.

To avoid rendering Ignition, you can call {\ttfamily should\+Display\+Exception} and pass it a falsy value.


\begin{DoxyCode}{0}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>shouldDisplayException(\$inLocalEnvironment)}
\DoxyCodeLine{\ \ \ \ -\/>register();}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2112}{}\doxysubsection{\texorpdfstring{Displaying solutions}{Displaying solutions}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2112}
In addition to displaying an exception, Ignition can display a solution as well.

Out of the box, Ignition will display solutions for common errors such as bad methods calls, or using undefined properties.\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2113}{}\doxysubsubsection{\texorpdfstring{Adding a solution directly to an exception}{Adding a solution directly to an exception}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2113}
To add a solution text to your exception, let the exception implement the {\ttfamily Spatie\textbackslash{}Ignition\textbackslash{}Contracts\textbackslash{}Provides\+Solution} interface.

This interface requires you to implement one method, which is going to return the {\ttfamily Solution} that users will see when the exception gets thrown.


\begin{DoxyCode}{0}
\DoxyCodeLine{use\ \mbox{\hyperlink{interface_spatie_1_1_ignition_1_1_contracts_1_1_solution}{Spatie\(\backslash\)Ignition\(\backslash\)Contracts\(\backslash\)Solution}};}
\DoxyCodeLine{use\ \mbox{\hyperlink{interface_spatie_1_1_ignition_1_1_contracts_1_1_provides_solution}{Spatie\(\backslash\)Ignition\(\backslash\)Contracts\(\backslash\)ProvidesSolution}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class\ }CustomException\ \textcolor{keyword}{extends}\ Exception\ implements\ ProvidesSolution}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getSolution():\ Solution}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ CustomSolution();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{use\ \mbox{\hyperlink{interface_spatie_1_1_ignition_1_1_contracts_1_1_solution}{Spatie\(\backslash\)Ignition\(\backslash\)Contracts\(\backslash\)Solution}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class\ }CustomSolution\ \textcolor{keyword}{implements}\ Solution}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getSolutionTitle():\ string}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'The\ solution\ title\ goes\ here'};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getSolutionDescription():\ string}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{'This\ is\ a\ longer\ description\ of\ the\ solution\ that\ you\ want\ to\ show.'};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getDocumentationLinks():\ array}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'Your\ documentation'}\ =>\ \textcolor{stringliteral}{'https://your-\/project.com/relevant-\/docs-\/page'},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


This is how the exception would be displayed if you were to throw it.

\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2114}{}\doxysubsubsection{\texorpdfstring{Using solution providers}{Using solution providers}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2114}
Instead of adding solutions to exceptions directly, you can also create a solution provider. While exceptions that return a solution, provide the solution directly to Ignition, a solution provider allows you to figure out if an exception can be solved.

For example, you could create a custom "{}\+Stack Overflow solution provider"{}, that will look up if a solution can be found for a given throwable.

Solution providers can be added by third party packages or within your own application.

A solution provider is any class that implements the \textbackslash{}\+Spatie\textbackslash{}\+Ignition\textbackslash{}\+Contracts\textbackslash{}\+Has\+Solutions\+For\+Throwable interface.

This is how the interface looks like\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{interface\ }HasSolutionsForThrowable}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ canSolve(Throwable\ \$throwable):\ bool;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getSolutions(Throwable\ \$throwable):\ array;}
\DoxyCodeLine{\}}

\end{DoxyCode}


When an error occurs in your app, the class will receive the {\ttfamily Throwable} in the {\ttfamily can\+Solve} method. In that method you can decide if your solution provider is applicable to the {\ttfamily Throwable} passed. If you return {\ttfamily true}, {\ttfamily get\+Solutions} will get called.

To register a solution provider to Ignition you must call the {\ttfamily add\+Solution\+Providers} method.


\begin{DoxyCode}{0}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>addSolutionProviders([}
\DoxyCodeLine{\ \ \ \ \ \ \ \ YourSolutionProvider::class,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ AnotherSolutionProvider::class,}
\DoxyCodeLine{\ \ \ \ ])}
\DoxyCodeLine{\ \ \ \ -\/>register();}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2115}{}\doxysubsection{\texorpdfstring{AI powered solutions}{AI powered solutions}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2115}
Ignition can send your exception to Open AI that will attempt to automatically suggest a solution. In many cases, the suggested solutions is quite useful, but keep in mind that the solution may not be 100\% correct for your context.

To generate AI powered solutions, you must first install this optional dependency.


\begin{DoxyCode}{0}
\DoxyCodeLine{composer\ require\ openai-\/php/client}

\end{DoxyCode}


To start sending your errors to Open\+AI, you must instanciate the {\ttfamily Open\+Ai\+Solution\+Provider}. The constructor expects a Open\+AI API key to be passed, you should generate this key \href{https://platform.openai.com}{\texttt{ at Open\+AI}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{use\ \(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Solutions\(\backslash\)OpenAi\(\backslash\)OpenAiSolutionProvider;}
\DoxyCodeLine{}
\DoxyCodeLine{\$aiSolutionProvider\ =\ \textcolor{keyword}{new}\ OpenAiSolutionProvider(\$openAiKey);}

\end{DoxyCode}


To use the solution provider, you should pass it to {\ttfamily add\+Solution\+Providers} when registering Ignition.


\begin{DoxyCode}{0}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>addSolutionProviders([}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$aiSolutionProvider,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ other\ solution\ providers...}}
\DoxyCodeLine{\ \ \ \ ])}
\DoxyCodeLine{\ \ \ \ -\/>register();}

\end{DoxyCode}


By default, the solution provider will send these bits of info to Open AI\+:


\begin{DoxyItemize}
\item the error message
\item the error class
\item the stack frame
\item other small bits of info of context surrounding your error
\end{DoxyItemize}

It will not send the request payload or any environment variables to avoid sending sensitive data to Open\+AI.\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2116}{}\doxysubsubsection{\texorpdfstring{Caching requests to AI}{Caching requests to AI}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2116}
By default, all errors will be sent to Open\+AI. Optionally, you can add caching so similar errors will only get sent to Open\+AI once. To cache errors, you can call {\ttfamily use\+Cache} on {\ttfamily \$ai\+Solution\+Provider}. You should pass \href{https://packagist.org/providers/psr/simple-cache-implementation}{\texttt{ a simple-\/cache-\/implementation}}. Here\textquotesingle{}s the signature of the {\ttfamily use\+Cache} method.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{public}\ \textcolor{keyword}{function}\ useCache(CacheInterface\ \$cache,\ \textcolor{keywordtype}{int}\ \$cacheTtlInSeconds\ =\ 60\ *\ 60)}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2117}{}\doxysubsubsection{\texorpdfstring{Hinting the application type}{Hinting the application type}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2117}
To increase the quality of the suggested solutions, you can send along the application type (Symfony, Drupal, Word\+Press, ...) to the AI.

To send the application type call {\ttfamily application\+Type} on the solution provider.


\begin{DoxyCode}{0}
\DoxyCodeLine{\$aiSolutionProvider-\/>applicationType(\textcolor{stringliteral}{'WordPress\ 6.2'})}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2118}{}\doxysubsection{\texorpdfstring{Sending exceptions to Flare}{Sending exceptions to Flare}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2118}
Ignition comes with the ability to send exceptions to \href{https://flareapp.io}{\texttt{ Flare}}, an exception monitoring service. Flare can notify you when new exceptions are occurring in your production environment.

To send exceptions to Flare, simply call the {\ttfamily send\+To\+Flare\+Method} and pass it the API key you got when creating a project on Flare.

You probably want to combine this with calling {\ttfamily running\+In\+Production\+Environment}. That method will, when passed a truthy value, not display the Ignition error page, but only send the exception to Flare.


\begin{DoxyCode}{0}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>runningInProductionEnvironment(\$boolean)}
\DoxyCodeLine{\ \ \ \ -\/>sendToFlare(\$yourApiKey)}
\DoxyCodeLine{\ \ \ \ -\/>register();}

\end{DoxyCode}


When you pass a falsy value to {\ttfamily running\+In\+Production\+Environment}, the Ignition error page will get shown, but no exceptions will be sent to Flare.\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2119}{}\doxysubsection{\texorpdfstring{Sending custom context to Flare}{Sending custom context to Flare}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2119}
When you send an error to Flare, you can add custom information that will be sent along with every exception that happens in your application. This can be very useful if you want to provide key-\/value related information that furthermore helps you to debug a possible exception.


\begin{DoxyCode}{0}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_spatie_1_1_flare_client_1_1_flare}{Spatie\(\backslash\)FlareClient\(\backslash\)Flare}};}
\DoxyCodeLine{}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>runningInProductionEnvironment(\$boolean)}
\DoxyCodeLine{\ \ \ \ -\/>sendToFlare(\$yourApiKey)}
\DoxyCodeLine{\ \ \ \ -\/>configureFlare(\textcolor{keyword}{function}(Flare\ \ \$flare)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$flare-\/>context(\textcolor{stringliteral}{'Tenant'},\ \textcolor{stringliteral}{'My-\/Tenant-\/Identifier'});}
\DoxyCodeLine{\ \ \ \ \})}
\DoxyCodeLine{\ \ \ \ -\/>\textcolor{keyword}{register}();}

\end{DoxyCode}


Sometimes you may want to group your context items by a key that you provide to have an easier visual differentiation when you look at your custom context items.

The Flare client allows you to also provide your own custom context groups like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_spatie_1_1_flare_client_1_1_flare}{Spatie\(\backslash\)FlareClient\(\backslash\)Flare}};}
\DoxyCodeLine{}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>runningInProductionEnvironment(\$boolean)}
\DoxyCodeLine{\ \ \ \ -\/>sendToFlare(\$yourApiKey)}
\DoxyCodeLine{\ \ \ \ -\/>configureFlare(\textcolor{keyword}{function}(Flare\ \ \$flare)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$flare-\/>group(\textcolor{stringliteral}{'Custom\ information'},\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'key'}\ =>\ \textcolor{stringliteral}{'value'},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'another\ key'}\ =>\ \textcolor{stringliteral}{'another\ value'},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{\ \ \ \ \})}
\DoxyCodeLine{\ \ \ \ -\/>\textcolor{keyword}{register}();}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2120}{}\doxysubsection{\texorpdfstring{Anonymize request to Flare}{Anonymize request to Flare}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2120}
By default, the Ignition collects information about the IP address of your application users. If you don\textquotesingle{}t want to send this information to Flare, call {\ttfamily anonymize\+Ip()}.


\begin{DoxyCode}{0}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_spatie_1_1_flare_client_1_1_flare}{Spatie\(\backslash\)FlareClient\(\backslash\)Flare}};}
\DoxyCodeLine{}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>runningInProductionEnvironment(\$boolean)}
\DoxyCodeLine{\ \ \ \ -\/>sendToFlare(\$yourApiKey)}
\DoxyCodeLine{\ \ \ \ -\/>configureFlare(\textcolor{keyword}{function}(Flare\ \ \$flare)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$flare-\/>anonymizeIp();}
\DoxyCodeLine{\ \ \ \ \})}
\DoxyCodeLine{\ \ \ \ -\/>\textcolor{keyword}{register}();}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2121}{}\doxysubsection{\texorpdfstring{Censoring request body fields}{Censoring request body fields}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2121}
When an exception occurs in a web request, the Flare client will pass on any request fields that are present in the body.

In some cases, such as a login page, these request fields may contain a password that you don\textquotesingle{}t want to send to Flare.

To censor out values of certain fields, you can use {\ttfamily censor\+Request\+Body\+Fields}. You should pass it the names of the fields you wish to censor.


\begin{DoxyCode}{0}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_spatie_1_1_flare_client_1_1_flare}{Spatie\(\backslash\)FlareClient\(\backslash\)Flare}};}
\DoxyCodeLine{}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>runningInProductionEnvironment(\$boolean)}
\DoxyCodeLine{\ \ \ \ -\/>sendToFlare(\$yourApiKey)}
\DoxyCodeLine{\ \ \ \ -\/>configureFlare(\textcolor{keyword}{function}(Flare\ \ \$flare)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$flare-\/>censorRequestBodyFields([\textcolor{stringliteral}{'password'}]);}
\DoxyCodeLine{\ \ \ \ \})}
\DoxyCodeLine{\ \ \ \ -\/>\textcolor{keyword}{register}();}

\end{DoxyCode}


This will replace the value of any sent fields named "{}password"{} with the value "{}$<$\+CENSORED$>$"{}.\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2122}{}\doxysubsection{\texorpdfstring{Using middleware to modify data sent to Flare}{Using middleware to modify data sent to Flare}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2122}
Before Flare receives the data that was collected from your local exception, we give you the ability to call custom middleware methods. These methods retrieve the report that should be sent to Flare and allow you to add custom information to that report.

A valid middleware is any class that implements {\ttfamily Flare\+Middleware}.


\begin{DoxyCode}{0}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_spatie_1_1_flare_client_1_1_report}{Spatie\(\backslash\)FlareClient\(\backslash\)Report}};}
\DoxyCodeLine{}
\DoxyCodeLine{use\ \mbox{\hyperlink{interface_spatie_1_1_flare_client_1_1_flare_middleware_1_1_flare_middleware}{Spatie\(\backslash\)FlareClient\(\backslash\)FlareMiddleware\(\backslash\)FlareMiddleware}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class\ }MyMiddleware\ \textcolor{keyword}{implements}\ FlareMiddleware}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_symfony_1_1_component_1_1_http_kernel_1_1_http_cache_ac036b34124a270fb2b790c0e8814b4a4}{handle}}(Report\ \$report,\ Closure\ \$next)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$report-\/>message(\textcolor{stringliteral}{"{}\{\$report-\/>getMessage()\},\ now\ modified"{}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$next(\$report);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_spatie_1_1_flare_client_1_1_flare}{Spatie\(\backslash\)FlareClient\(\backslash\)Flare}};}
\DoxyCodeLine{}
\DoxyCodeLine{\(\backslash\)Spatie\(\backslash\)Ignition\(\backslash\)Ignition::make()}
\DoxyCodeLine{\ \ \ \ -\/>runningInProductionEnvironment(\$boolean)}
\DoxyCodeLine{\ \ \ \ -\/>sendToFlare(\$yourApiKey)}
\DoxyCodeLine{\ \ \ \ -\/>configureFlare(\textcolor{keyword}{function}(Flare\ \ \$flare)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$flare-\/>registerMiddleware([}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ MyMiddleware::class,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ])}
\DoxyCodeLine{\ \ \ \ \})}
\DoxyCodeLine{\ \ \ \ -\/>\textcolor{keyword}{register}();}

\end{DoxyCode}
\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2123}{}\doxysubsection{\texorpdfstring{Changelog}{Changelog}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2123}
Please see \doxylink{webmozart_2assert_2_c_h_a_n_g_e_l_o_g_8md}{CHANGELOG} for more information about what has changed recently.\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2124}{}\doxysection{\texorpdfstring{Contributing}{Contributing}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2124}
Please see \href{https://github.com/spatie/.github/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING}} for details.\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2125}{}\doxysection{\texorpdfstring{Dev setup}{Dev setup}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2125}
Here are the steps you\textquotesingle{}ll need to perform if you want to work on the UI of Ignition.


\begin{DoxyItemize}
\item clone (or move) {\ttfamily spatie/ignition}, {\ttfamily spatie/ignition-\/ui}, {\ttfamily spatie/laravel-\/ignition}, {\ttfamily spatie/flare-\/client-\/php} and {\ttfamily spatie/ignition-\/test} into the same directory (e.\+g. {\ttfamily \texorpdfstring{$\sim$}{\string~}/code/flare})
\item create a new {\ttfamily package.\+json} file in {\ttfamily \texorpdfstring{$\sim$}{\string~}/code/flare} directory\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ "{}private"{}:\ true,}
\DoxyCodeLine{\ \ \ \ "{}workspaces"{}:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}ignition-\/ui"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}ignition"{}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\}}

\end{DoxyCode}

\item run {\ttfamily yarn install} in the {\ttfamily \texorpdfstring{$\sim$}{\string~}/code/flare} directory
\item in the {\ttfamily \texorpdfstring{$\sim$}{\string~}/code/flare/ignition-\/test} directory
\begin{DoxyItemize}
\item run {\ttfamily composer update}
\item run {\ttfamily cp .env.\+example .env}
\item run {\ttfamily php artisan key\+:generate}
\end{DoxyItemize}
\item run {\ttfamily yarn dev} in both the {\ttfamily ignition} and {\ttfamily ignition-\/ui} project
\item \href{http://ignition-test.test/}{\texttt{ http\+://ignition-\/test.\+test/}} should now work (= show the new UI). If you use valet, you might want to run {\ttfamily valet park} inside the {\ttfamily \texorpdfstring{$\sim$}{\string~}/code/flare} directory.
\begin{DoxyItemize}
\item \href{http://ignition-test.test/}{\texttt{ http\+://ignition-\/test.\+test/}} has a bit of everything
\item \href{http://ignition-test.test/sql-error}{\texttt{ http\+://ignition-\/test.\+test/sql-\/error}} has a solution and SQL exception
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2126}{}\doxysection{\texorpdfstring{Security Vulnerabilities}{Security Vulnerabilities}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2126}
Please review \href{../../security/policy}{\texttt{ our security policy}} on how to report security vulnerabilities.\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2127}{}\doxysection{\texorpdfstring{Credits}{Credits}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2127}

\begin{DoxyItemize}
\item \href{https://spatie.be}{\texttt{ Spatie}}
\item \href{../../contributors}{\texttt{ All Contributors}}
\end{DoxyItemize}\hypertarget{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2128}{}\doxysection{\texorpdfstring{License}{License}}\label{md_vendor_2spatie_2ignition_2_r_e_a_d_m_e_autotoc_md2128}
The MIT License (MIT). Please see \doxysectlink{md_vendor_2spatie_2ignition_2_l_i_c_e_n_s_e}{License File}{0} for more information. 