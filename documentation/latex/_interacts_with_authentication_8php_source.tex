\doxysection{Interacts\+With\+Authentication.\+php}
\hypertarget{_interacts_with_authentication_8php_source}{}\label{_interacts_with_authentication_8php_source}\index{vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/InteractsWithAuthentication.php@{vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/InteractsWithAuthentication.php}}
\mbox{\hyperlink{_interacts_with_authentication_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00003}\mbox{\hyperlink{namespace_illuminate_1_1_foundation_1_1_testing_1_1_concerns}{00003}}\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_illuminate_1_1_foundation_1_1_testing_1_1_concerns}{Illuminate\(\backslash\)Foundation\(\backslash\)Testing\(\backslash\)Concerns}};}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00005}00005\ use\ \mbox{\hyperlink{interface_illuminate_1_1_contracts_1_1_auth_1_1_authenticatable}{Illuminate\(\backslash\)Contracts\(\backslash\)Auth\(\backslash\)Authenticatable}}\ as\ UserContract;}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00007}00007\ trait\ InteractsWithAuthentication}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00008}00008\ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00016}00016\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ actingAs(UserContract\ \$user,\ \$guard\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00017}00017\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00018}00018\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>be(\$user,\ \$guard);}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00019}00019\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00028}00028\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ be(UserContract\ \$user,\ \$guard\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00029}00029\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00030}00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$user-\/>wasRecentlyCreated)\ \&\&\ \$user-\/>wasRecentlyCreated)\ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ \$user-\/>wasRecentlyCreated\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00032}00032\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00034}00034\ \ \ \ \ \ \ \ \ \$this-\/>app[\textcolor{stringliteral}{'auth'}]-\/>guard(\$guard)-\/>setUser(\$user);}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00036}00036\ \ \ \ \ \ \ \ \ \$this-\/>app[\textcolor{stringliteral}{'auth'}]-\/>shouldUse(\$guard);}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00038}00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00039}00039\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00047}00047\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ assertAuthenticated(\$guard\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00048}00048\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00049}00049\ \ \ \ \ \ \ \ \ \$this-\/>assertTrue(\$this-\/>isAuthenticated(\$guard),\ \textcolor{stringliteral}{'The\ user\ is\ not\ authenticated'});}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00051}00051\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00052}00052\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00060}00060\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ assertGuest(\$guard\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00061}00061\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00062}00062\ \ \ \ \ \ \ \ \ \$this-\/>assertFalse(\$this-\/>isAuthenticated(\$guard),\ \textcolor{stringliteral}{'The\ user\ is\ authenticated'});}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00064}00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00065}00065\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00073}00073\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ isAuthenticated(\$guard\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00074}00074\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00075}00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>app-\/>make(\textcolor{stringliteral}{'auth'})-\/>guard(\$guard)-\/>check();}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00076}00076\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00085}00085\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ assertAuthenticatedAs(\$user,\ \$guard\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00086}00086\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00087}00087\ \ \ \ \ \ \ \ \ \$expected\ =\ \$this-\/>app-\/>make(\textcolor{stringliteral}{'auth'})-\/>guard(\$guard)-\/>user();}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00089}00089\ \ \ \ \ \ \ \ \ \$this-\/>assertNotNull(\$expected,\ \textcolor{stringliteral}{'The\ current\ user\ is\ not\ authenticated.'});}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00091}00091\ \ \ \ \ \ \ \ \ \$this-\/>assertInstanceOf(}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ get\_class(\$expected),\ \$user,}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00093}00093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'The\ currently\ authenticated\ user\ is\ not\ who\ was\ expected'}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00094}00094\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00096}00096\ \ \ \ \ \ \ \ \ \$this-\/>assertSame(}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00097}00097\ \ \ \ \ \ \ \ \ \ \ \ \ \$expected-\/>getAuthIdentifier(),\ \$user-\/>getAuthIdentifier(),}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00098}00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'The\ currently\ authenticated\ user\ is\ not\ who\ was\ expected'}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00099}00099\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00101}00101\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00102}00102\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00111}00111\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ assertCredentials(array\ \$credentials,\ \$guard\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00112}00112\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00113}00113\ \ \ \ \ \ \ \ \ \$this-\/>assertTrue(}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>hasCredentials(\$credentials,\ \$guard),\ \textcolor{stringliteral}{'The\ given\ credentials\ are\ invalid.'}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00115}00115\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00116}00116\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00117}00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00118}00118\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00127}00127\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ assertInvalidCredentials(array\ \$credentials,\ \$guard\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00128}00128\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00129}00129\ \ \ \ \ \ \ \ \ \$this-\/>assertFalse(}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>hasCredentials(\$credentials,\ \$guard),\ \textcolor{stringliteral}{'The\ given\ credentials\ are\ valid.'}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00131}00131\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00132}00132\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00133}00133\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00134}00134\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00143}00143\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ hasCredentials(array\ \$credentials,\ \$guard\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00144}00144\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00145}00145\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_illuminate_1_1_auth_a934c4a71069a9e3bf15bcb8206884031}{\$provider}}\ =\ \$this-\/>app-\/>make(\textcolor{stringliteral}{'auth'})-\/>guard(\$guard)-\/>getProvider();}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00147}00147\ \ \ \ \ \ \ \ \ \$user\ =\ \mbox{\hyperlink{namespace_illuminate_1_1_auth_a934c4a71069a9e3bf15bcb8206884031}{\$provider}}-\/>retrieveByCredentials(\$credentials);}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00148}00148\ }
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00149}00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$user\ \&\&\ \mbox{\hyperlink{namespace_illuminate_1_1_auth_a934c4a71069a9e3bf15bcb8206884031}{\$provider}}-\/>validateCredentials(\$user,\ \$credentials);}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00150}00150\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_interacts_with_authentication_8php_source_l00151}00151\ \}}

\end{DoxyCode}
