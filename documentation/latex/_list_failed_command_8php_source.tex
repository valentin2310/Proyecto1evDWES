\doxysection{List\+Failed\+Command.\+php}
\hypertarget{_list_failed_command_8php_source}{}\label{_list_failed_command_8php_source}\index{vendor/laravel/framework/src/Illuminate/Queue/Console/ListFailedCommand.php@{vendor/laravel/framework/src/Illuminate/Queue/Console/ListFailedCommand.php}}
\mbox{\hyperlink{_list_failed_command_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00003}00003\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_illuminate_1_1_queue_1_1_console}{Illuminate\(\backslash\)Queue\(\backslash\)Console}};}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00005}00005\ use\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_command}{Illuminate\(\backslash\)Console\(\backslash\)Command}};}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00006}00006\ use\ \mbox{\hyperlink{class_illuminate_1_1_support_1_1_arr}{Illuminate\(\backslash\)Support\(\backslash\)Arr}};}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00007}00007\ use\ \mbox{\hyperlink{class_symfony_1_1_component_1_1_console_1_1_attribute_1_1_as_command}{Symfony\(\backslash\)Component\(\backslash\)Console\(\backslash\)Attribute\(\backslash\)AsCommand}};}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00009}00009\ \textcolor{preprocessor}{\#[AsCommand(name:\ 'queue:failed')]}}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00010}\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command}{00010}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command}{ListFailedCommand}}\ \textcolor{keyword}{extends}\ \mbox{\hyperlink{class_illuminate_1_1_console_1_1_command}{Command}}}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00011}00011\ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00017}\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ab2fc40d43824ea3e1ce5d86dee0d763b}{00017}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ab2fc40d43824ea3e1ce5d86dee0d763b}{\$name}}\ =\ \textcolor{stringliteral}{'queue:failed'};}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00024}\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_a87b032cba06009e3467abf1c8018d960}{00024}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_a87b032cba06009e3467abf1c8018d960}{\$description}}\ =\ \textcolor{stringliteral}{'List\ all\ of\ the\ failed\ queue\ jobs'};}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00031}\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_a52500036ee807241b8b4b7e2367c49ef}{00031}}\ \ \ \ \ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_a52500036ee807241b8b4b7e2367c49ef}{\$headers}}\ =\ [\textcolor{stringliteral}{'ID'},\ \textcolor{stringliteral}{'Connection'},\ \textcolor{stringliteral}{'Queue'},\ \textcolor{stringliteral}{'Class'},\ \textcolor{stringliteral}{'Failed\ At'}];}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00038}\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_a66eb7514ea7f7f8a5738a180b14e9b48}{00038}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_a66eb7514ea7f7f8a5738a180b14e9b48}{handle}}()}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00039}00039\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00040}00040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (count(\$jobs\ =\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ab2de2f4ebbce4ce329b80f28d9d5d318}{getFailedJobs}}())\ ===\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>components-\/>info(\textcolor{stringliteral}{'No\ failed\ jobs\ found.'});}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00042}00042\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00044}00044\ \ \ \ \ \ \ \ \ \$this-\/>newLine();}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00045}00045\ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ae5393b2c1461ddd5dd2530c43371a51a}{displayFailedJobs}}(\$jobs);}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00046}00046\ \ \ \ \ \ \ \ \ \$this-\/>newLine();}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00047}00047\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00054}\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ab2de2f4ebbce4ce329b80f28d9d5d318}{00054}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ab2de2f4ebbce4ce329b80f28d9d5d318}{getFailedJobs}}()}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00055}00055\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00056}00056\ \ \ \ \ \ \ \ \ \$failed\ =\ \$this-\/>laravel[\textcolor{stringliteral}{'queue.failer'}]-\/>all();}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00058}00058\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ collect(\$failed)-\/>map(\textcolor{keyword}{function}\ (\$failed)\ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_adb7a028697a987775fb18d5966218cc9}{parseFailedJob}}((array)\ \$failed);}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00060}00060\ \ \ \ \ \ \ \ \ \})-\/>filter()-\/>all();}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00061}00061\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00069}\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_adb7a028697a987775fb18d5966218cc9}{00069}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_adb7a028697a987775fb18d5966218cc9}{parseFailedJob}}(array\ \$failed)}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00070}00070\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00071}00071\ \ \ \ \ \ \ \ \ \$row\ =\ array\_values(Arr::except(\$failed,\ [\textcolor{stringliteral}{'payload'},\ \textcolor{stringliteral}{'exception'}]));}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00073}00073\ \ \ \ \ \ \ \ \ array\_splice(\$row,\ 3,\ 0,\ \$this-\/>extractJobName(\$failed[\textcolor{stringliteral}{'payload'}])\ ?:\ \textcolor{stringliteral}{''});}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00075}00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$row;}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00076}00076\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00084}00084\ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{function}\ extractJobName(\$payload)}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00085}00085\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00086}00086\ \ \ \ \ \ \ \ \ \$payload\ =\ json\_decode(\$payload,\ \textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00088}00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$payload\ \&\&\ (!\ isset(\$payload[\textcolor{stringliteral}{'data'}][\textcolor{stringliteral}{'command'}])))\ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$payload[\textcolor{stringliteral}{'job'}]\ ??\ \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00090}00090\ \ \ \ \ \ \ \ \ \}\ elseif\ (\$payload\ \&\&\ isset(\$payload[\textcolor{stringliteral}{'data'}][\textcolor{stringliteral}{'command'}]))\ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ac3a293ad43caf55d33a857cf629d8a36}{matchJobName}}(\$payload);}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00092}00092\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00093}00093\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00101}\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ac3a293ad43caf55d33a857cf629d8a36}{00101}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ac3a293ad43caf55d33a857cf629d8a36}{matchJobName}}(\$payload)}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00102}00102\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00103}00103\ \ \ \ \ \ \ \ \ preg\_match(\textcolor{stringliteral}{'/"{}([\string^"{}]+)"{}/'},\ \$payload[\textcolor{stringliteral}{'data'}][\textcolor{stringliteral}{'command'}],\ \$matches);}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$matches[1]\ ??\ \$payload[\textcolor{stringliteral}{'job'}]\ ??\ \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00106}00106\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00114}\mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ae5393b2c1461ddd5dd2530c43371a51a}{00114}}\ \ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{class_illuminate_1_1_queue_1_1_console_1_1_list_failed_command_ae5393b2c1461ddd5dd2530c43371a51a}{displayFailedJobs}}(array\ \$jobs)}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00115}00115\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00116}00116\ \ \ \ \ \ \ \ \ collect(\$jobs)-\/>each(}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ fn\ (\mbox{\hyperlink{namespace_illuminate_1_1_queue_aab0e16ecbc63a8e57fdd9823b66be5a1}{\$job}})\ =>\ \$this-\/>components-\/>twoColumnDetail(}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sprintf(\textcolor{stringliteral}{'<fg=gray>\%s</>\ \%s</>'},\ \mbox{\hyperlink{namespace_illuminate_1_1_queue_aab0e16ecbc63a8e57fdd9823b66be5a1}{\$job}}[4],\ \mbox{\hyperlink{namespace_illuminate_1_1_queue_aab0e16ecbc63a8e57fdd9823b66be5a1}{\$job}}[0]),}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sprintf(\textcolor{stringliteral}{'<fg=gray>\%s@\%s</>\ \%s'},\ \mbox{\hyperlink{namespace_illuminate_1_1_queue_aab0e16ecbc63a8e57fdd9823b66be5a1}{\$job}}[1],\ \mbox{\hyperlink{namespace_illuminate_1_1_queue_aab0e16ecbc63a8e57fdd9823b66be5a1}{\$job}}[2],\ \mbox{\hyperlink{namespace_illuminate_1_1_queue_aab0e16ecbc63a8e57fdd9823b66be5a1}{\$job}}[3])}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ ),}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00121}00121\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00122}00122\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_list_failed_command_8php_source_l00123}00123\ \}}

\end{DoxyCode}
