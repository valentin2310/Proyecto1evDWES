\doxysection{Service\+Subscriber\+Trait.\+php}
\hypertarget{_service_subscriber_trait_8php_source}{}\label{_service_subscriber_trait_8php_source}\index{vendor/symfony/service-\/contracts/ServiceSubscriberTrait.php@{vendor/symfony/service-\/contracts/ServiceSubscriberTrait.php}}
\mbox{\hyperlink{_service_subscriber_trait_8php}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00003}00003\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00004}00004\ \textcolor{comment}{\ *\ This\ file\ is\ part\ of\ the\ Symfony\ package.}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00005}00005\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00006}00006\ \textcolor{comment}{\ *\ (c)\ Fabien\ Potencier\ <fabien@symfony.com>}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00007}00007\ \textcolor{comment}{\ *}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00008}00008\ \textcolor{comment}{\ *\ For\ the\ full\ copyright\ and\ license\ information,\ please\ view\ the\ LICENSE}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00009}00009\ \textcolor{comment}{\ *\ file\ that\ was\ distributed\ with\ this\ source\ code.}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00010}00010\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00012}00012\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_symfony_1_1_contracts_1_1_service}{Symfony\(\backslash\)Contracts\(\backslash\)Service}};}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00014}00014\ use\ \mbox{\hyperlink{interface_psr_1_1_container_1_1_container_interface}{Psr\(\backslash\)Container\(\backslash\)ContainerInterface}};}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00015}00015\ use\ \mbox{\hyperlink{class_symfony_1_1_contracts_1_1_service_1_1_attribute_1_1_required}{Symfony\(\backslash\)Contracts\(\backslash\)Service\(\backslash\)Attribute\(\backslash\)Required}};}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00016}00016\ use\ \mbox{\hyperlink{class_symfony_1_1_contracts_1_1_service_1_1_attribute_1_1_subscribed_service}{Symfony\(\backslash\)Contracts\(\backslash\)Service\(\backslash\)Attribute\(\backslash\)SubscribedService}};}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00024}\mbox{\hyperlink{namespace_symfony_1_1_contracts_1_1_service_a6fb7d6d82557d9228d76eebc4c4babeb}{00024}}\ trait\ \mbox{\hyperlink{namespace_symfony_1_1_contracts_1_1_service_a6fb7d6d82557d9228d76eebc4c4babeb}{ServiceSubscriberTrait}}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00025}00025\ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00027}00027\ \ \ \ \ \textcolor{keyword}{protected}\ \$container;}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00029}00029\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ getSubscribedServices():\ array}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00030}00030\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00031}00031\ \ \ \ \ \ \ \ \ \$services\ =\ method\_exists(get\_parent\_class(self::class)\ ?:\ \textcolor{stringliteral}{''},\ \_\_FUNCTION\_\_)\ ?\ parent::getSubscribedServices()\ :\ [];}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00033}00033\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ ((\textcolor{keyword}{new}\ \(\backslash\)ReflectionClass(self::class))-\/>getMethods()\ as\ \$method)\ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (self::class\ !==\ \$method-\/>getDeclaringClass()-\/>name)\ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$attribute\ =\ \$method-\/>getAttributes(SubscribedService::class)[0]\ ??\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$method-\/>isStatic()\ ||\ \$method-\/>isAbstract()\ ||\ \$method-\/>isGenerator()\ ||\ \$method-\/>isInternal()\ ||\ \$method-\/>getNumberOfRequiredParameters())\ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ new\ \(\backslash\)LogicException(sprintf(\textcolor{stringliteral}{'Cannot\ use\ "{}\%s"{}\ on\ method\ "{}\%s::\%s()"{}\ (can\ only\ be\ used\ on\ non-\/static,\ non-\/abstract\ methods\ with\ no\ parameters).'},\ SubscribedService::class,\ self::class,\ \$method-\/>name));}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$returnType\ =\ \$method-\/>getReturnType())\ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ new\ \(\backslash\)LogicException(sprintf(\textcolor{stringliteral}{'Cannot\ use\ "{}\%s"{}\ on\ methods\ without\ a\ return\ type\ in\ "{}\%s::\%s()"{}.'},\ SubscribedService::class,\ \$method-\/>name,\ self::class));}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ @var\ SubscribedService\ \$attribute\ */}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ \$attribute\ =\ \$attribute-\/>newInstance();}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \ \ \ \$attribute-\/>key\ ??=\ self::class.\textcolor{stringliteral}{'::'}.\$method-\/>name;}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00053}00053\ \ \ \ \ \ \ \ \ \ \ \ \ \$attribute-\/>type\ ??=\ \$returnType\ instanceof\ \(\backslash\)ReflectionNamedType\ ?\ \$returnType-\/>getName()\ :\ (string)\ \$returnType;}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \$attribute-\/>nullable\ =\ \$returnType-\/>allowsNull();}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$attribute-\/>attributes)\ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$services[]\ =\ \$attribute;}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$services[\$attribute-\/>key]\ =\ (\$attribute-\/>nullable\ ?\ \textcolor{charliteral}{'?'}\ :\ \textcolor{stringliteral}{''}).\$attribute-\/>type;}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00061}00061\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00063}00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$services;}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00064}00064\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00066}00066\ \textcolor{preprocessor}{\ \ \ \ \#[Required]}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00067}\mbox{\hyperlink{namespace_symfony_1_1_contracts_1_1_service_abdef16a38dcfab7dc5e5f4e9c50269a3}{00067}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_symfony_1_1_contracts_1_1_service_abdef16a38dcfab7dc5e5f4e9c50269a3}{setContainer}}(\mbox{\hyperlink{interface_psr_1_1_container_1_1_container_interface}{ContainerInterface}}\ \$container):\ ?\mbox{\hyperlink{interface_psr_1_1_container_1_1_container_interface}{ContainerInterface}}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00068}00068\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00069}00069\ \ \ \ \ \ \ \ \ \$ret\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00070}00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (method\_exists(get\_parent\_class(self::class)\ ?:\ \textcolor{stringliteral}{''},\ \_\_FUNCTION\_\_))\ \{}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \$ret\ =\ parent::setContainer(\$container);}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00072}00072\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00074}00074\ \ \ \ \ \ \ \ \ \$this-\/>container\ =\ \$container;}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00076}00076\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$ret;}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00077}00077\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_service_subscriber_trait_8php_source_l00078}00078\ \}}

\end{DoxyCode}
